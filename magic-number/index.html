
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1200, initial-scale=0.5, user-scalable=yes">
    
    <!-- SEO ë©”íƒ€ íƒœê·¸ -->
    <title>KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸° 2025 - í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ë° ìš°ìŠ¹ ì¡°ê±´</title>
    <meta name="description" content="2025 KBO ë¦¬ê·¸ ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°. í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´, ìš°ìŠ¹ ê°€ëŠ¥ì„±, íŒ€ë³„ ìˆœìœ„í‘œì™€ ìƒëŒ€ì „ì ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”. í•œí™”, LG, ë¡¯ë° ë“± 10ê°œ íŒ€ í˜„í™© ì—…ë°ì´íŠ¸">
    <meta name="keywords" content="KBO, ë§¤ì§ë„˜ë²„, í”Œë ˆì´ì˜¤í”„, ìš°ìŠ¹, ì•¼êµ¬, í•œí™”, LG, ë¡¯ë°, KT, KIA, ì‚¼ì„±, SSG, NC, ë‘ì‚°, í‚¤ì›€, 2025ì‹œì¦Œ">
    <meta name="author" content="SanghunBruceHam">
    <meta name="robots" content="index, follow">
    <meta name="naver-site-verification" content="bc59fce1d576065745f3c3bb6cb107683e4104b7" />
    <link rel="canonical" href="https://kbo.mahalohana-bruce.com/magic-number/">
    
    <!-- Open Graph íƒœê·¸ -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸° 2025 - í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ë° ìš°ìŠ¹ ì¡°ê±´">
    <meta property="og:description" content="2025 KBO ë¦¬ê·¸ ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°. í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´, ìš°ìŠ¹ ê°€ëŠ¥ì„±, íŒ€ë³„ ìˆœìœ„í‘œì™€ ìƒëŒ€ì „ì ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”.">
    <meta property="og:url" content="https://kbo.mahalohana-bruce.com/magic-number/">
    <meta property="og:site_name" content="KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°">
    <meta property="og:locale" content="ko_KR">
    <meta property="og:image" content="https://kbo.mahalohana-bruce.com/magic-number/icons/kbo-magic-number-thumbnail.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:image:alt" content="KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°">
    
    <!-- Twitter Card íƒœê·¸ -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸° 2025">
    <meta name="twitter:description" content="2025 KBO ë¦¬ê·¸ ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°. í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´ê³¼ ìš°ìŠ¹ ê°€ëŠ¥ì„±ì„ í™•ì¸í•˜ì„¸ìš”.">
    <meta name="twitter:image" content="https://kbo.mahalohana-bruce.com/magic-number/icons/kbo-magic-number-thumbnail.png">
    <meta name="twitter:image:alt" content="KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°">
    
    <!-- ì¶”ê°€ SEO íƒœê·¸ -->
    <meta name="theme-color" content="#1a237e">
    <meta name="format-detection" content="telephone=no">
    
    <!-- ì‚¬ì´íŠ¸ë§µ ë° RSS ë§í¬ -->
    <link rel="sitemap" type="application/xml" title="Sitemap" href="/magic-number/sitemap.xml">
    <link rel="alternate" type="application/rss+xml" title="KBO ë§¤ì§ë„˜ë²„ ì—…ë°ì´íŠ¸" href="/magic-number/rss.xml">
    
    <!-- íŒŒë¹„ì½˜ -->
    <link rel="icon" type="image/png" sizes="32x32" href="./icons/kbo-magic-number-icon.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./icons/kbo-magic-number-icon.png">
    <link rel="apple-touch-icon" href="./icons/kbo-magic-number-icon.png">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/magic-number/manifest.json">
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <!-- JSON-LD êµ¬ì¡°í™” ë°ì´í„° -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°",
        "description": "2025 KBO ë¦¬ê·¸ ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°. í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´, ìš°ìŠ¹ ê°€ëŠ¥ì„±, íŒ€ë³„ ìˆœìœ„í‘œì™€ ìƒëŒ€ì „ì ì„ ì œê³µí•©ë‹ˆë‹¤.",
        "url": "https://kbo.mahalohana-bruce.com/magic-number/",
        "applicationCategory": "SportsApplication",
        "operatingSystem": "Web",
        "offers": {
            "@type": "Offer",
            "price": "0",
            "priceCurrency": "KRW"
        },
        "creator": {
            "@type": "Organization",
            "name": "mahalohana-bruce.com"
        },
        "about": {
            "@type": "SportsOrganization",
            "name": "KBO ë¦¬ê·¸",
            "sport": "Baseball"
        }
    }
    </script>
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TDV2VSSNHN"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-TDV2VSSNHN');
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867" crossorigin="anonymous"></script>
    
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #1a237e;
            --secondary-color: #3949ab;
            --accent-color: #ff6b6b;
            --success-color: #4caf50;
            --warning-color: #ff9800;
            --danger-color: #f44336;
            --bg-primary: #f5f7fa;
            --bg-secondary: #ffffff;
            --text-primary: #212529;
            --text-secondary: #6c757d;
            --border-color: #e0e0e0;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 8px rgba(0,0,0,0.12);
            --shadow-lg: 0 8px 16px rgba(0,0,0,0.16);
            /* ì¼ê´€ëœ ë¸Œëœë”©ì„ ìœ„í•œ ì¶”ê°€ ìƒ‰ìƒ */
            --kbo-blue: #1a237e;
            --kbo-light-blue: #3949ab;
            --text-muted: #6c757d;
            --border-light: #e9ecef;
        }

        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            color: white;
            padding: 20px 0 15px 0;
            margin: -20px -20px 0 -20px;
            box-shadow: var(--shadow-md);
        }
        .nav-container {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 15px 20px;
            position: sticky;
            top: 0;
            background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
            z-index: 9999;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);
            margin: 0 -20px 30px -20px;
        }
        .nav-menu {
            display: flex;
            gap: 40px;
            list-style: none;
            margin: 0;
            padding: 12px 24px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 25px;
            backdrop-filter: blur(10px);
        }
        .nav-menu li {
            position: relative;
        }
        .nav-menu a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 1rem;
            padding: 12px 20px;
            border-radius: 6px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }
        .nav-menu a:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-1px);
        }
        .nav-menu a.active {
            color: #ffd700;
            font-weight: 600;
            position: relative;
        }
        .nav-menu a.active::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 100%;
            height: 3px;
            background: #ffd700;
            border-radius: 2px;
        }
        .nav-menu a.active:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }
        .nav-toggle {
            display: none;
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        @media (max-width: 768px) {
            .nav-container {
                position: sticky;
                top: 0;
                flex-direction: column;
                padding: 15px 20px;
            }
            .nav-menu {
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: rgba(26, 35, 126, 0.95);
                flex-direction: column;
                gap: 0;
                padding: 20px;
                border-radius: 0 0 12px 12px;
                box-shadow: var(--shadow-lg);
                transform: translateY(-20px);
                opacity: 0;
                visibility: hidden;
                transition: all 0.3s ease;
                z-index: 1001;
                backdrop-filter: blur(10px);
            }
            .nav-menu.active {
                transform: translateY(0);
                opacity: 1;
                visibility: visible;
            }
            .nav-menu li {
                margin: 0;
            }
            .nav-menu a {
                padding: 12px 16px;
                border-radius: 8px;
                justify-content: center;
            }
            .nav-menu a.active {
                color: #ffd700;
                font-weight: 600;
                position: relative;
            }
            .nav-menu a.active::after {
                content: '';
                position: absolute;
                bottom: -2px;
                left: 50%;
                transform: translateX(-50%);
                width: 100%;
                height: 3px;
                background: #ffd700;
                border-radius: 2px;
            }
            .nav-toggle {
                display: block;
                margin-top: 10px;
            }
        }

        h1 {
            text-align: center;
            color: white;
            margin: 0;
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .subtitle {
            text-align: center;
            color: rgba(255,255,255,0.9);
            margin-top: 10px;
            font-size: 1.1rem;
            font-weight: 300;
            line-height: 1.5;
        }

        .content-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .cards-grid {
            display: flex;
            flex-direction: column;
            gap: 32px;
            margin-bottom: 24px;
        }

        .card {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 32px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            text-align: center;
            overflow: visible;
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            scroll-margin-top: 100px;
        }
        
        #namuwiki-chart {
            /* ë‹¤ë¥¸ ì¹´ë“œë“¤ê³¼ ë™ì¼í•œ ìŠ¤íƒ€ì¼ ì‚¬ìš© */
        }
        
        .namuwiki-table-container {
            padding: 0;
            overflow-x: auto;
            margin: 0 0 20px 0;
        }
        
        .namuwiki-magic-table {
            width: 100%;
            border-collapse: collapse;
            margin: 0 auto;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            border-radius: 12px;
            overflow: hidden;
            table-layout: fixed;
            min-width: 500px;
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.04);
        }
        
        .magic-table-wrapper {
            width: 100% !important;
            margin: 0 auto !important;
            text-align: center !important;
        }
        
        .magic-table-wrapper > div {
            width: 100% !important;
            max-width: 100% !important;
            overflow-x: auto !important;
            -webkit-overflow-scrolling: touch !important;
        }
        
        .magic-table-wrapper table {
            margin: 0 auto !important;
            display: table !important;
        }
        
        .chart-footer {
            background-color: #f8f9fa;
            padding: 15px 20px;
            border-top: 1px solid #e2e8f0;
            border-radius: 0 0 8px 8px;
            margin-top: 10px;
        }
        
        .legend-container {
            margin-bottom: 15px;
        }
        
        .legend-title {
            font-weight: 600;
            font-size: 0.95rem;
            color: #2d3748;
            margin-bottom: 10px;
        }
        
        .legend-items {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.9rem;
        }
        
        .legend-color {
            width: 18px;
            height: 18px;
            border-radius: 4px;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .legend-color.magic {
            background-color: #7dd87d;
        }
        
        .legend-color.competitive {
            background-color: #ffff7d;
        }
        
        .legend-color.tragic {
            background-color: #ff7d7d;
        }
        
        .update-info {
            text-align: center;
            font-size: 0.85rem;
            color: #666;
        }
        
        .team-info {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }
        
        /* ê¸°ë³¸ team-logo ìŠ¤íƒ€ì¼ì€ ìœ„ì—ì„œ ì •ì˜ë¨ */
        
        .team-name {
            font-weight: 600;
        }
        
        /* ë¡œê³  ìŠ¤íƒ€ì¼ - ê°€ë¡œ ê¸°ì¤€ í†µì¼, ì„¸ë¡œëŠ” ë¹„ìœ¨ì— ë”°ë¼ ìë™ ì¡°ì • */
        .team-logo {
            width: 24px !important;
            height: auto !important;
            max-width: none !important;
            min-width: auto !important;
            object-fit: contain !important;
            vertical-align: middle !important;
            margin-right: 4px;
            display: inline-block !important;
        }
        
        /* íŒ€ë³„ ì‹¤ì œ PNG ì‚¬ì´ì¦ˆ ë¹„ìœ¨ ì ìš© - ê°€ë¡œ ê¸°ì¤€ í†µì¼ */
        img[src*="doosan.png"], img[alt*="ë‘ì‚°"] { 
            aspect-ratio: 1/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1:1 */
        
        img[src*="hanwha.png"], img[alt*="í•œí™”"] { 
            aspect-ratio: 1.175/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.175:1 */
        
        img[src*="kt.png"], img[alt*="KT"] { 
            aspect-ratio: 1.105/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.105:1 */
        
        img[src*="lg.png"], img[alt*="LG"] { 
            aspect-ratio: 1.255/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.255:1 */
        
        img[src*="samsung.png"], img[alt*="ì‚¼ì„±"] { 
            aspect-ratio: 1.33/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.33:1 */
        
        img[src*="lotte.png"], img[alt*="ë¡¯ë°"] { 
            aspect-ratio: 1.335/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.335:1 */
        
        img[src*="kia.png"], img[alt*="KIA"] { 
            aspect-ratio: 1.345/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.345:1 */
        
        img[src*="kiwoom.png"], img[alt*="í‚¤ì›€"] { 
            aspect-ratio: 1.365/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.365:1 */
        
        img[src*="nc.png"], img[alt*="NC"] { 
            aspect-ratio: 1.485/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.485:1 */
        
        img[src*="ssg.png"], img[alt*="SSG"] { 
            aspect-ratio: 1.7/1 !important; 
            width: 24px !important;
            height: auto !important;
        } /* 1.7:1 */
        
        /* ëª¨ë“  í…Œì´ë¸” ë¡œê³  í†µì¼ */
        .standings-table .team-logo,
        .vs-grid .team-logo,
        .namuwiki-magic-table img {
            width: 24px !important;
            height: auto !important;
            object-fit: contain !important;
        }
        
        .namuwiki-magic-table img {
            display: inline-block !important;  
        }
        
        /* í…Œì´ë¸” ì…€ ê¸°ë³¸ ì¤‘ì•™ ì •ë ¬ */
        table td,
        table th {
            text-align: center !important;
        }
        
        /* ê° í…Œì´ë¸”ë³„ íŒ€ëª… ì…€ ì •ë ¬ */
        .vs-team {
            display: flex !important;
            align-items: center !important;
            justify-content: center !important;
            gap: 4px !important;
        }
        
        /* ë§¤ì§ë„˜ë²„ í…Œì´ë¸”ì€ ê¸°ë³¸ text-alignë§Œ ì‚¬ìš© */
        .namuwiki-magic-table .team-cell {
            text-align: center !important;
            display: table-cell !important;
        }
        
        /* ëª¨ë“  í…Œì´ë¸” íŒ€ëª… ì»¬ëŸ¼ì€ ê¸°ë³¸ text-alignë§Œ ì‚¬ìš© */
        #standings-table tbody tr td:nth-child(2),
        #playoff-table tbody tr td:nth-child(2),
        #chase-table tbody tr td:nth-child(2) {
            text-align: center !important;
        }
        
        /* í†µê³„ ì„¹ì…˜ ë¡œê³  */
        .stat-item .team-logo,
        .playoff-condition .team-logo,
        .championship-condition .team-logo {
            width: 24px !important;
            height: auto !important;
            object-fit: contain !important;
            vertical-align: middle !important;
        }
        
        /* ì²« ë²ˆì§¸ ìœ„ì¹˜ ë©”ì¸ ë¡œê³  */
        #first-place-logo img {
            width: 48px !important;
            height: auto !important;
            object-fit: contain !important;
        }
        

        .card:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
        }

        .card h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            padding-bottom: 8px;
            border-bottom: 2px solid var(--border-color);
            font-size: 1.4rem;
            text-align: center;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card h3 {
            font-size: 1.1rem;
            font-weight: 500;
            margin-bottom: 12px;
            color: var(--text-primary);
        }

        /* í•˜ìœ„ ì œëª© í†µì¼ */
        .section-subtitle {
            font-size: 1rem;
            font-weight: 400;
            color: var(--text-secondary);
            margin-bottom: 15px;
            line-height: 1.4;
        }

        /* ëŒ€ì‹œë³´ë“œ ê°’ ìŠ¤íƒ€ì¼ í†µì¼ */
        .dashboard-value {
            font-size: 2rem;
            font-weight: 700;
        }

        .dashboard-sub-value {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        /* ë²”ë¡€ ìŠ¤íƒ€ì¼ í†µì¼ */
        .legend-text {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.4;
            margin-bottom: 15px;
            text-align: left;
        }
        
        .h2h-legend {
            text-align: left;
        }

        #chase-analysis, #playoff-condition {
            position: relative;
            z-index: 1;
        }

        #chase-table, #playoff-table {
            position: relative;
            z-index: 1;
        }

        /* ë‚˜ë¬´ìœ„í‚¤ ìŠ¤íƒ€ì¼ ë§¤ì§ë„˜ë²„ í…Œì´ë¸” */
        .namuwiki-table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            margin: 10px 0;
            border-radius: 4px;
            border: 1px solid #e5e7eb;
        }

        .namuwiki-magic-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.85rem;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            table-layout: fixed !important;
            transition: all 0.3s ease;
            border: 1px solid rgba(0, 0, 0, 0.04);
        }
        
        .namuwiki-magic-table:hover {
            box-shadow: var(--shadow-lg);
            transform: translateY(-2px);
        }

        /* ë§¤ì§ë„˜ë²„ í…Œì´ë¸” í†µí•© ë³´ë” ì„¤ì • */
        .namuwiki-magic-table th,
        .namuwiki-magic-table td {
            border: 1px solid rgba(0, 0, 0, 0.08);
        }
        
        .namuwiki-magic-table th {
            background: var(--bg-primary);
            color: white;
            padding: 8px 6px;
            text-align: center;
            font-weight: 600;
            font-size: 0.85rem;
            width: auto;
            height: 40px;
        }

        .namuwiki-magic-table td {
            padding: 6px 6px;
            text-align: center;
            font-weight: 500;
            font-size: 0.85rem;
            height: 36px;
            width: auto;
            background: white;
            transition: all 0.3s ease;
        }
        
        .namuwiki-magic-table tr:hover td {
            background-color: rgba(59, 130, 246, 0.08) !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .namuwiki-magic-table .team-cell {
            width: 120px;
            min-width: 120px;
            max-width: 120px;
            font-weight: 600;
            white-space: nowrap;
            overflow: hidden;
        }
        
        .namuwiki-magic-table tr:hover .team-cell {
            background-color: rgba(59, 130, 246, 0.08) !important;
        }

        .namuwiki-magic-table .team-cell img {
            height: 20px;
            width: auto;
            vertical-align: middle;
            object-fit: contain;
        }

        /* ë‚˜ë¬´ìœ„í‚¤ ì‹¤ì œ ìƒ‰ìƒ (ìŠ¤í¬ë¦°ìƒ· ì™„ì „ ì¬í˜„) */
        .namu-magic {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%) !important;
            color: white !important;
            font-weight: 600 !important;
            border-radius: 6px !important;
            padding: 4px 8px !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
        }

        .namu-competitive {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%) !important;
            color: white !important;
            font-weight: 600 !important;
            border-radius: 6px !important;
            padding: 4px 8px !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
        }

        .namu-tragic {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%) !important;
            color: white !important;
            font-weight: 600 !important;
            border-radius: 6px !important;
            padding: 4px 8px !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
        }

        .namu-clinched-blue {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%) !important;
            color: white !important;
            font-weight: 600 !important;
            border-radius: 6px !important;
            padding: 4px 8px !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
        }

        .namu-clinched-dark {
            background: linear-gradient(135deg, #1e40af 0%, #1d4ed8 100%) !important;
            color: white !important;
            font-weight: 600 !important;
            border-radius: 6px !important;
            padding: 4px 8px !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
        }

        .namu-clinched-darker {
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 100%) !important;
            color: white !important;
            font-weight: 600 !important;
            border-radius: 6px !important;
            padding: 4px 8px !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
        }

        .namu-eliminated {
            background: linear-gradient(135deg, #6b7280 0%, #4b5563 100%) !important;
            color: white !important;
            font-weight: 600 !important;
            border-radius: 6px !important;
            padding: 4px 8px !important;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
        }


        .table-container {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            margin: 10px 0;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border: 1px solid rgba(0, 0, 0, 0.06);
            background: white;
        }

        table {
            width: 100%;
            min-width: 800px;
            border-collapse: collapse;
            border-spacing: 0;
            font-size: 0.9rem;
            border-radius: 12px;
            overflow: hidden;
            background: white;
        }


        th, td {
            padding: 10px 8px;
            text-align: center;
            position: relative;
            line-height: 1.3;
            border: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        /* íŒ€ ìˆœìœ„í‘œ í•„ë“œë³„ ë„ˆë¹„ ì¡°ì • */
        #standings-table th:nth-child(1), 
        #standings-table td:nth-child(1) { width: 5%; }  /* ìˆœìœ„ */
        
        #standings-table th:nth-child(2), 
        #standings-table td:nth-child(2) { width: 10%; text-align: left; padding-left: 20px; }  /* íŒ€ëª… */
        
        #standings-table th:nth-child(3), 
        #standings-table td:nth-child(3) { width: 6%; }  /* ê²½ê¸° */
        
        #standings-table th:nth-child(4), 
        #standings-table td:nth-child(4) { width: 5%; }  /* ìŠ¹ */
        
        #standings-table th:nth-child(5), 
        #standings-table td:nth-child(5) { width: 5%; }  /* íŒ¨ */
        
        #standings-table th:nth-child(6), 
        #standings-table td:nth-child(6) { width: 4%; }  /* ë¬´ */
        
        #standings-table th:nth-child(7), 
        #standings-table td:nth-child(7) { width: 7%; font-weight: 600; }  /* ìŠ¹íŒ¨ë§ˆì§„ */
        
        #standings-table th:nth-child(7) { font-size: 0.75rem; }  /* ìŠ¹íŒ¨ë§ˆì§„ í—¤ë” */
        
        #standings-table th:nth-child(8), 
        #standings-table td:nth-child(8) { width: 6%; }  /* ìŠ¹ë¥  */
        
        #standings-table th:nth-child(9), 
        #standings-table td:nth-child(9) { width: 11%; font-size: 0.75rem; }  /* í™ˆ/ì›ì • */
        
        #standings-table th:nth-child(10), 
        #standings-table td:nth-child(10) { width: 6%; }  /* ê²Œì„ì°¨ */
        
        #standings-table th:nth-child(11), 
        #standings-table td:nth-child(11) { width: 6%; }  /* ì”ì—¬ê²½ê¸° */
        
        #standings-table th:nth-child(12), 
        #standings-table td:nth-child(12) { width: 12%; }  /* ìµœê·¼10ê²½ê¸° */
        
        #standings-table th:nth-child(13), 
        #standings-table td:nth-child(13) { width: 6%; }  /* ì—°ì† */
        
        #standings-table th:nth-child(14), 
        #standings-table td:nth-child(14) { width: 8%; }  /* ë§¤ì§ë„˜ë²„ */

        th {
            background: var(--primary-color);
            color: white;
            font-weight: 500;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            position: sticky;
            top: 0;
            z-index: 9998;
            text-align: center !important;
            vertical-align: middle;
        }

        th:first-child {
            border-top-left-radius: 8px;
        }

        th:last-child {
            border-top-right-radius: 8px;
        }

        tbody tr {
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }
        tbody tr:last-child {
            border-bottom: none;
        }

        tbody tr:hover {
            background-color: rgba(59, 130, 246, 0.08) !important;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        tbody tr:nth-child(even) {
            background-color: rgba(248, 250, 252, 0.8);
        }
        tbody tr:nth-child(odd) {
            background-color: rgba(255, 255, 255, 0.9);
        }

        td {
            font-weight: 400;
        }

        td:first-child {
            font-weight: 700;
            color: var(--primary-color);
        }

        .rank-1 { 
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(255, 235, 59, 0.08)) !important;
            border-left: 4px solid #ffd700;
            font-weight: 700;
        }
        .rank-2 { 
            background: linear-gradient(135deg, rgba(192, 192, 192, 0.15), rgba(224, 224, 224, 0.08)) !important;
            border-left: 4px solid #c0c0c0;
        }
        .rank-3 { 
            background: linear-gradient(135deg, rgba(205, 127, 50, 0.15), rgba(255, 152, 0, 0.08)) !important;
            border-left: 4px solid #cd7f32;
        }
        .playoff { 
            background: linear-gradient(135deg, rgba(26, 35, 126, 0.12), rgba(57, 73, 171, 0.06)) !important;
            border-left: 4px solid var(--primary-color);
        }

        .magic-number {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-color), #ff8787);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            padding: 20px;
            border-radius: 12px;
            margin: 20px 0;
            background-color: rgba(255, 107, 107, 0.1);
            position: relative;
        }

        .magic-number::after {
            content: attr(data-label);
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 0.8rem;
            color: var(--text-secondary);
            -webkit-text-fill-color: var(--text-secondary);
        }

        .status-indicator {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 8px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .clinched { 
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.2), rgba(76, 175, 80, 0.3));
            color: #2e7d32;
            box-shadow: 0 2px 4px rgba(76, 175, 80, 0.3);
        }
        
        .contending { 
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.2), rgba(255, 193, 7, 0.3));
            color: #f57c00;
            box-shadow: 0 2px 4px rgba(255, 193, 7, 0.3);
        }

        /* ì´ ì„ íƒìëŠ” ìœ„ì˜ .team-logoë¡œ í†µí•©ë¨ */

        .vs-grid {
            display: grid;
            grid-template-columns: 0.8fr repeat(10, 1fr);
            gap: 2px;
            font-size: 0.9rem;
        }
        .vs-grid > div {
            text-align: center;
            vertical-align: middle;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 50px;
            padding: 6px 4px;
            border-radius: 6px;
            line-height: 1.3;
        }
        .vs-header {
            background: rgba(0, 0, 0, 0.05) !important;
            font-weight: 600 !important;
            font-size: 0.85rem !important;
            border: 1px solid rgba(0, 0, 0, 0.1) !important;
        }
        .vs-team {
            background: rgba(0, 0, 0, 0.03) !important;
            font-weight: 600 !important;
            font-size: 0.9rem !important;
            border: 1px solid rgba(0, 0, 0, 0.08) !important;
        }

        .help-icon {
            display: inline-block;
            width: 16px;
            height: 16px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            margin-left: 4px;
            cursor: pointer;
            line-height: 16px;
            transition: all 0.2s ease;
        }

        /* ì—ëŸ¬ ì•Œë¦¼ ìŠ¤íƒ€ì¼ */
        .error-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #fee;
            border: 1px solid #fcc;
            border-radius: 8px;
            padding: 12px 16px;
            box-shadow: 0 4px 12px rgba(244, 67, 54, 0.15);
            z-index: 10000;
            max-width: 350px;
            font-size: 0.9rem;
            animation: slideInRight 0.3s ease;
        }
        
        .error-notification.success {
            background: #f0f9ff;
            border-color: #0ea5e9;
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.15);
        }
        
        .error-notification .close-btn {
            float: right;
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            margin-left: 10px;
            color: #666;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .help-icon:hover {
            background: var(--primary-hover);
            transform: scale(1.1);
        }

        .tooltip {
            position: relative;
            z-index: 10000;
        }

        .tooltip .tooltiptext {
            visibility: hidden;
            width: 300px;
            background-color: #1a237e;
            color: #fff;
            text-align: left;
            border-radius: 8px;
            padding: 10px;
            position: absolute;
            z-index: 10001;
            top: 100%;
            left: 50%;
            margin-left: -150px;
            margin-top: 5px;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.85rem;
            line-height: 1.4;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* ì˜¤ë¥¸ìª½ ëì— ìˆëŠ” íˆ´íŒì„ ìœ„í•œ í´ë˜ìŠ¤ */
        .tooltip .tooltiptext.tooltip-left {
            left: auto;
            right: 0;
            margin-left: 0;
            margin-right: 0;
        }

        .tooltip .tooltiptext.tooltip-left::after {
            left: auto;
            right: 20px;
            margin-left: 0;
        }

        .tooltip .tooltiptext::after {
            content: "";
            position: absolute;
            bottom: 100%;
            left: 50%;
            margin-left: -5px;
            border-width: 5px;
            border-style: solid;
            border-color: transparent transparent #1a237e transparent;
        }

        .tooltip:hover .tooltiptext,
        .tooltip.active .tooltiptext {
            visibility: visible;
            opacity: 1;
        }


        .scroll-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            z-index: 9999;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transform: translateY(20px);
        }

        .scroll-to-top:hover {
            background: var(--primary-hover);
            box-shadow: 0 6px 16px rgba(0,0,0,0.3);
        }
        
        .scroll-to-top.show:hover {
            transform: translateY(-2px);
        }

        .scroll-to-top.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        /* ì¿ íŒ¡ ê´‘ê³  ë°˜ì‘í˜• ìŠ¤íƒ€ì¼ */
        .coupang-ad-wrapper {
            box-sizing: border-box;
        }
        
        .coupang-ad-wrapper > div,
        .coupang-ad-wrapper iframe {
            max-width: 100% !important;
            width: 100% !important;
        }
        
        /* PCì—ì„œ ì¿ íŒ¡ ê´‘ê³  í¬ê¸° ì¡°ì • - ì¹´ë“œ í¬ê¸°ì— ë§ì¶¤ */
        @media (min-width: 1025px) {
            .coupang-ad-wrapper {
                padding: 40px 60px !important;
            }
            
            .coupang-ad-wrapper > div:not([style*="font-size"]),
            .coupang-ad-wrapper iframe {
                transform: scale(0.95);
                transform-origin: center;
                margin: 0;
            }
        }
        
        /* íƒœë¸”ë¦¿ì—ì„œ ì¿ íŒ¡ ê´‘ê³  í¬ê¸° ì¡°ì • */
        
        /* ëª¨ë°”ì¼ì—ì„œ ì¿ íŒ¡ ê´‘ê³  í¬ê¸° ì¡°ì • */
        

        /* PC ë²„ì „ ë³´ê¸° ë²„íŠ¼ì€ ëª¨ë°”ì¼ì—ì„œë§Œ í‘œì‹œ */
        @media (min-width: 769px) {
            #mobile-controls {
                display: none !important;
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .vs-header, .vs-team, .vs-record {
            padding: 6px 4px;
            text-align: center;
            border: 1px solid #ddd;
        }

        .vs-header {
            background: #f8f9fa;
            color: #495057;
            font-weight: bold;
        }

        .vs-team {
            background: #f1f3f4;
            font-weight: bold;
        }

        .vs-record {
            background: white;
        }

        .vs-record.win { 
            background-color: rgba(76, 175, 80, 0.1);
            color: #2e7d32;
            font-weight: 600;
        }
        .vs-record.loss { 
            background-color: rgba(244, 67, 54, 0.1);
            color: #d32f2f;
            font-weight: 600;
        }

        .team-info-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            margin-bottom: 20px;
        }

        .team-basic-info, .magic-info {
            background: rgba(26, 35, 126, 0.02);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .stat-row:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }

        .stat-label {
            font-weight: 500;
            color: var(--text-secondary);
        }

        .stat-value {
            font-weight: 600;
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        .stat-card {
            text-align: center;
            padding: 12px;
            background: rgba(26, 35, 126, 0.02);
            border-radius: 8px;
            border: 1px solid rgba(26, 35, 126, 0.1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .stat-card .stat-label {
            text-align: center;
            width: 100%;
            margin-bottom: 8px;
        }
        
        .stat-card .stat-value {
            text-align: center;
            width: 100%;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            animation: fadeInUp 0.6s ease-out;
            overflow: visible; /* íˆ´íŒì´ ì¹´ë“œ ê²½ê³„ë¥¼ ë„˜ì„ ìˆ˜ ìˆë„ë¡ */
        }
        
        .table-container {
            overflow-x: auto;
            overflow-y: visible; /* íˆ´íŒì´ ì„¸ë¡œë¡œ ë„˜ì„ ìˆ˜ ìˆë„ë¡ */
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }

        /* ì±”í”¼ì–¸ì‹­ ì„¹ì…˜ íŠ¹ë³„ íš¨ê³¼ */
        @keyframes logoGlow {
            0% { 
                filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1)); 
                transform: scale(1);
            }
            100% { 
                filter: drop-shadow(0 4px 8px rgba(26, 35, 126, 0.2)) drop-shadow(0 0 12px rgba(26, 35, 126, 0.1)); 
                transform: scale(1.02);
            }
        }

        /* ë§¤ì§ë„˜ë²„ ê°•ì¡° ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes magicPulse {
            0% { 
                transform: scale(1);
                text-shadow: 0 2px 8px rgba(255, 107, 53, 0.4);
            }
            50% { 
                transform: scale(1.05);
                text-shadow: 0 4px 16px rgba(255, 107, 53, 0.6);
            }
            100% { 
                transform: scale(1);
                text-shadow: 0 2px 8px rgba(255, 107, 53, 0.4);
            }
        }

        .card:nth-child(4) { animation-delay: 0.4s; }
        .card:nth-child(5) { animation-delay: 0.5s; }

        .loading {
            position: relative;
            opacity: 0.7;
        }

        .loading::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            animation: shimmer 1.5s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* ì •ë ¬ ê°€ëŠ¥í•œ í…Œì´ë¸” í—¤ë” ìŠ¤íƒ€ì¼ */
        .sortable-header {
            cursor: pointer;
            user-select: none;
            position: relative;
            transition: all 0.3s ease;
            padding-right: 20px !important;
        }

        .sortable-header:hover {
            background: rgba(57, 73, 171, 0.8);
            color: rgba(255, 255, 255, 0.95);
        }

        .sort-arrow {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.8rem;
            opacity: 0.6;
            transition: all 0.2s ease;
        }

        .sortable-header:hover .sort-arrow {
            opacity: 1;
        }

        .sortable-header.sort-asc .sort-arrow {
            opacity: 1;
            color: var(--accent-color);
        }

        .sortable-header.sort-desc .sort-arrow {
            opacity: 1;
            color: var(--accent-color);
        }

        /* í…Œì´ë¸” í–‰ ì •ë ¬ ì• ë‹ˆë©”ì´ì…˜ */
        tbody tr {
            transition: all 0.3s ease;
        }

        .sorting tbody tr {
            opacity: 0.7;
        }



    </style>
</head>
<body>
    <div class="header">
        <div class="container">
            <h1>ğŸ† KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°</h1>
            <div class="subtitle">2025 KBO ë¦¬ê·¸ ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°<br>í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´, ìš°ìŠ¹ ê°€ëŠ¥ì„±, íŒ€ë³„ ìˆœìœ„í‘œì™€ ìƒëŒ€ì „ì ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</div>
        </div>
    </div>
    
    <!-- ë…ë¦½ì ì¸ ìŠ¤í‹°í‚¤ ë„¤ë¹„ê²Œì´ì…˜ -->
    <nav class="nav-container">
        <ul class="nav-menu">
            <li><a href="#standings" class="active">ğŸ“Š íŒ€ ìˆœìœ„í‘œ</a></li>
            <li><a href="#championship" onclick="scrollToChampionship()">ğŸ‘‘ ì •ê·œì‹œì¦Œ ìš°ìŠ¹ ì¡°ê±´</a></li>
            <li><a href="#chase" onclick="scrollToChase()">ğŸ¯ 1ìœ„ íƒˆí™˜ ê°€ëŠ¥ì„±</a></li>
            <li><a href="#namuwiki-chart" onclick="scrollToNamuwikiChart()">ğŸ“‹ ë§¤ì§ë„˜ë²„ ë§¤íŠ¸ë¦­ìŠ¤</a></li>
            <li><a href="#playoff" onclick="scrollToPlayoff()">ğŸŸï¸ í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´</a></li>
            <li><a href="#vs-records" onclick="scrollToVsRecords()">âš”ï¸ íŒ€ê°„ ìƒëŒ€ì „ì </a></li>
            <li><a href="#remaining" onclick="scrollToRemaining()">ğŸ“… íŒ€ê°„ ì”ì—¬ ê²½ê¸°ìˆ˜</a></li>
        </ul>
        <button class="nav-toggle" onclick="toggleMobileMenu()">â˜°</button>
    </nav>
    
    <div class="container">
        <div class="content-container">
            
            <!-- ìš”ì•½ ëŒ€ì‹œë³´ë“œ -->
            <div style="width: 90%; max-width: 1200px; margin: 0 auto;">
                <div class="summary-dashboard" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div class="summary-card" style="background: var(--bg-secondary); border-radius: 12px; padding: 20px; box-shadow: var(--shadow-sm); border: 1px solid var(--border-color); text-align: center; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='var(--shadow-md)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-sm)'">
                    <h3 class="section-subtitle">ğŸ† í˜„ì¬ 1ìœ„</h3>
                    <div class="dashboard-value" id="first-place-team" style="color: var(--primary-color);">-</div>
                    <div class="dashboard-sub-value" id="first-place-magic">ë§¤ì§ë„˜ë²„: -</div>
                </div>
                
                <div class="summary-card" style="background: var(--bg-secondary); border-radius: 12px; padding: 20px; box-shadow: var(--shadow-sm); border: 1px solid var(--border-color); text-align: center; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='var(--shadow-md)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-sm)'">
                    <h3 class="section-subtitle">âœ… í”Œë ˆì´ì˜¤í”„ í™•ì •</h3>
                    <div class="dashboard-value" id="playoff-confirmed-teams" style="color: var(--success-color);">-</div>
                    <div class="dashboard-sub-value" id="playoff-confirmed-desc">72ìŠ¹ ì´ìƒ ë‹¬ì„±</div>
                </div>
                
                <div class="summary-card" style="background: var(--bg-secondary); border-radius: 12px; padding: 20px; box-shadow: var(--shadow-sm); border: 1px solid var(--border-color); text-align: center; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='var(--shadow-md)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-sm)'">
                    <h3 class="section-subtitle">ğŸ”¥ ìµœê³  ì—°ìŠ¹íŒ€</h3>
                    <div class="dashboard-value" id="best-streak-team" style="color: var(--warning-color);">-</div>
                    <div class="dashboard-sub-value" id="best-streak-count">-</div>
                </div>
                
                <div class="summary-card" style="background: var(--bg-secondary); border-radius: 12px; padding: 20px; box-shadow: var(--shadow-sm); border: 1px solid var(--border-color); text-align: center; transition: all 0.3s ease; cursor: pointer;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='var(--shadow-md)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='var(--shadow-sm)'">
                    <h3 class="section-subtitle">ğŸ“Š ìµœê·¼ 10ê²½ê¸° 1ìœ„íŒ€</h3>
                    <div class="dashboard-value" id="recent-best-team" style="color: var(--primary-color);">-</div>
                    <div class="dashboard-sub-value" id="recent-best-record">-</div>
                </div>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="content-container">
                <div class="cards-grid" style="width: 100%; max-width: 1200px; margin: 0 auto;">
                <!-- íŒ€ ìˆœìœ„ í…Œì´ë¸” -->
                <div class="card" id="standings">
                    <h2>ğŸ“Š íŒ€ ìˆœìœ„í‘œ</h2>
                    <div class="ranking-legend legend-text">
                        <strong>ìˆœìœ„ë³„ ì§„ì¶œê¶Œ:</strong> <span style="color: #ffd700; font-weight: 600;">â–  1ìœ„</span> ì •ê·œì‹œì¦Œ ìš°ìŠ¹ | <span style="color: #c0c0c0; font-weight: 600;">â–  2ìœ„</span> í”Œë ˆì´ì˜¤í”„ ì§í–‰ | <span style="color: #cd7f32; font-weight: 600;">â–  3ìœ„</span> ì¤€í”Œë ˆì´ì˜¤í”„ ì§í–‰ | <span style="color: #1a237e; font-weight: 600;">â–  4-5ìœ„</span> ì™€ì¼ë“œì¹´ë“œ
                    </div>
                    <div style="text-align: right; font-size: 0.75rem; color: #999; margin-bottom: 15px;">
                        ğŸ“Š <span class="data-load-time">2025. 8. 1. ì˜¤í›„ 11:42 KBO ê³µì‹</span>
                    </div>
                    <div class="table-container">
                        <table id="standings-table">
                            <thead>
                                <tr>
                                    <th class="sortable-header" data-sort="rank" onclick="sortTable('standings', 'rank')">
                                        ìˆœìœ„ <span class="sort-arrow">â†•</span>
                                    </th>
                                    <th>íŒ€ëª…</th>
                                    <th class="sortable-header" data-sort="games" onclick="sortTable('standings', 'games')">
                                        ê²½ê¸° <span class="sort-arrow">â†•</span>
                                    </th>
                                    <th class="sortable-header" data-sort="wins" onclick="sortTable('standings', 'wins')">
                                        ìŠ¹ <span class="sort-arrow">â†•</span>
                                    </th>
                                    <th class="sortable-header" data-sort="losses" onclick="sortTable('standings', 'losses')">
                                        íŒ¨ <span class="sort-arrow">â†•</span>
                                    </th>
                                    <th class="sortable-header" data-sort="draws" onclick="sortTable('standings', 'draws')">
                                        ë¬´ <span class="sort-arrow">â†•</span>
                                    </th>
                                    <th class="sortable-header" data-sort="winLossMargin" onclick="sortTable('standings', 'winLossMargin')">
                                        ìŠ¹íŒ¨ë§ˆì§„ <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ìŠ¹ - íŒ¨<br>ì–‘ìˆ˜: ìŠ¹ìˆ˜ê°€ ë§ìŒ<br>ìŒìˆ˜: íŒ¨ìˆ˜ê°€ ë§ìŒ</span></span>
                                    </th>
                                    <th class="sortable-header" data-sort="winPct" onclick="sortTable('standings', 'winPct')">
                                        ìŠ¹ë¥  <span class="sort-arrow">â†•</span>
                                    </th>
                                    <th>í™ˆ/ë°©ë¬¸ <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">í™ˆ ê²½ê¸° ì„±ì  / ë°©ë¬¸ ê²½ê¸° ì„±ì <br>ğŸ  í™ˆêµ¬ì¥ì—ì„œì˜ ìŠ¹-íŒ¨-ë¬´<br>âœˆï¸ ë°©ë¬¸êµ¬ì¥ì—ì„œì˜ ìŠ¹-íŒ¨-ë¬´</span></span></th>
                                    <th class="sortable-header" data-sort="gamesBehind" onclick="sortTable('standings', 'gamesBehind')">
                                        ê²Œì„ì°¨ <span class="sort-arrow">â†•</span>
                                    </th>
                                    <th>ì”ì—¬ê²½ê¸°</th>
                                    <th class="sortable-header" data-sort="recent10" onclick="sortTable('standings', 'recent10')">
                                        ìµœê·¼10ê²½ê¸° <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ìµœê·¼ 10ê²½ê¸° ìŠ¹íŒ¨ ê¸°ë¡<br>- í˜„ì¬ íŒ€ ìƒíƒœë¥¼ íŒŒì•…í•˜ëŠ” ì§€í‘œ<br><br>ìƒ‰ìƒ ì˜ë¯¸:<br>ğŸŸ¢ ë…¹ìƒ‰: 7ìŠ¹ ì´ìƒ (ëœ¨ê±°ìš´ ìƒìŠ¹ì„¸)<br>ğŸŸ¡ ë…¸ë€ìƒ‰: 5-6ìŠ¹ (ì–‘í˜¸í•œ íë¦„)<br>ğŸ”´ ë¹¨ê°„ìƒ‰: 4ìŠ¹ ì´í•˜ (ë¶€ì§„í•œ íë¦„)</span></span>
                                    </th>
                                    <th class="sortable-header" data-sort="streak" onclick="sortTable('standings', 'streak')">
                                        ì—°ì† <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">í˜„ì¬ ì§„í–‰ì¤‘ì¸ ì—°ì† ê¸°ë¡<br>- ìŠ¹/íŒ¨/ë¬´ ì¤‘ ê°€ì¥ ìµœê·¼ ì—°ì† ê²°ê³¼</span></span>
                                    </th>
                                    <th class="sortable-header" data-sort="magic" onclick="sortTable('standings', 'magic')">
                                        ë§¤ì§ë„˜ë²„ <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ëª©í‘œ ë‹¬ì„±ì— í•„ìš”í•œ ìŠ¹ìˆ˜<br>- 1ìœ„: ìš°ìŠ¹í™•ì • í•„ìš”ìŠ¹ìˆ˜<br>- ë‚˜ë¨¸ì§€: í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ í•„ìš”ìŠ¹ìˆ˜<br><br>ê³„ì‚°ë²•:<br>- 1ìœ„: (2ìœ„ ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜ + 1) - í˜„ì¬ìŠ¹ìˆ˜<br>- ë‚˜ë¨¸ì§€: 72ìŠ¹ - í˜„ì¬ìŠ¹ìˆ˜</span></span>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- ê´‘ê³  1: ê¸°ì‚¬ê°„ ë°°ë„ˆ -->
                <div style="text-align: center; margin: 30px 0;">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-5508768187151867"
                         data-ad-slot="7298546648"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <!-- 1ìœ„íŒ€ ìš°ìŠ¹ ì¡°ê±´ -->
                <div class="card" id="championship">
                    <h2>ğŸ‘‘ ì •ê·œì‹œì¦Œ ìš°ìŠ¹ ì¡°ê±´</h2>
                    <div style="text-align: right; font-size: 0.75rem; color: #999; margin-bottom: 15px;">
                        ğŸ“Š <span class="data-load-time">2025. 8. 1. ì˜¤í›„ 11:42 KBO ê³µì‹</span>
                    </div>
                    <div id="championship-condition">
                        <div class="championship-header" style="text-align: center; margin-bottom: 24px;">
                            <!-- ê¹”ë”í•˜ê³  íŠ¹ë³„í•œ ìš°ìŠ¹ ì¡°ê±´ ë””ìŠ¤í”Œë ˆì´ -->
                            <div style="
                                position: relative;
                                text-align: center;
                                padding: 24px 16px;
                                margin-bottom: 16px;
                                background: linear-gradient(135deg, rgba(26, 35, 126, 0.02) 0%, rgba(57, 73, 171, 0.04) 100%);
                                border-left: 4px solid #1a237e;
                                border-radius: 0 8px 8px 0;
                            ">
                                <!-- íŒ€ ì •ë³´ -->
                                <div style="display: flex; align-items: center; justify-content: center; gap: 12px; margin-bottom: 20px;">
                                    <span id="first-place-logo" style="
                                        display: inline-block;
                                        filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
                                        position: relative;
                                        animation: logoGlow 3s ease-in-out infinite alternate;
                                    ">-</span>
                                    <h3 id="first-place-team-name" style="
                                        margin: 0; 
                                        font-size: 2rem; 
                                        font-weight: 700;
                                    ">-</h3>
                                </div>
                                
                                <!-- ë§¤ì§ë„˜ë²„ ì¤‘ì•™ ê°•ì¡° -->
                                <div style="text-align: center; margin-bottom: 20px;">
                                    <span id="championship-magic" style="
                                        font-size: 2.4rem;
                                        font-weight: 800;
                                        color: #FF6B35;
                                        text-shadow: 0 2px 8px rgba(255, 107, 53, 0.4);
                                        display: inline-block;
                                        animation: magicPulse 3s ease-in-out infinite;
                                    ">ë§¤ì§ë„˜ë²„: -</span>
                                </div>
                                
                                <!-- ì¶”ê°€ ì •ë³´ë¥¼ ê°„ë‹¨í•˜ê²Œ í‘œì‹œ -->
                                <div style="
                                    text-align: center;
                                    font-size: 1.1rem;
                                    color: #555;
                                    line-height: 1.8;
                                ">
                                    <div style="margin-bottom: 8px;">
                                        <span style="color: #666;">ì”ì—¬ê²½ê¸°</span> 
                                        <strong id="remaining-games-top-display" style="color: #1a237e; margin-left: 8px;">-ê²½ê¸°</strong>
                                    </div>
                                    <div>
                                        <span style="color: #666;">ìš°ìŠ¹ í•„ìš” ìµœì†Œ ìŠ¹ìˆ˜</span> 
                                        <strong id="min-wins-top-display" style="color: #1a237e; margin-left: 8px;">-ìŠ¹</strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="championship-stats-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 16px; margin-bottom: 20px;">
                            <div class="stat-card">
                                <div class="stat-label">í˜„ì¬ ì „ì </div>
                                <div class="stat-value" id="first-place-record">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">í˜„ì¬ ìŠ¹ë¥ </div>
                                <div class="stat-value" id="first-place-winpct">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">ìµœëŒ€ê°€ëŠ¥ ìŠ¹ìˆ˜</div>
                                <div class="stat-value" id="first-place-max-wins">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">ìš°ìŠ¹ í•„ìš” ìµœì†Œ ìŠ¹ìˆ˜ ê¸°ì¤€<br>í•„ìš”ìŠ¹ë¥  <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ìš°ìŠ¹ í•„ìš” ìµœì†Œ ìŠ¹ìˆ˜ ë‹¬ì„±ì„ ìœ„í•œ ìŠ¹ë¥ <br><br>ê³„ì‚°ë²•:<br>- (ìš°ìŠ¹ í•„ìš” ìµœì†Œ ìŠ¹ìˆ˜ - í˜„ì¬ìŠ¹ìˆ˜) Ã· ì”ì—¬ê²½ê¸°ìˆ˜<br><br>ìš°ìŠ¹ í•„ìš” ìµœì†Œ ìŠ¹ìˆ˜ = 2ìœ„íŒ€ ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜ + 1</span></span></div>
                                <div class="stat-value" id="required-winpct">-</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-label">ì—­ëŒ€ 1ìœ„ ê¸°ì¤€<br>í•„ìš”ìŠ¹ë¥  <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">144ê²½ê¸° ì²´ì œ ì—­ëŒ€ 1ìœ„ í‰ê·  87ìŠ¹ ë‹¬ì„±ì„ ìœ„í•´ ì”ì—¬ê²½ê¸°ì—ì„œ ì–»ì–´ì•¼ í•˜ëŠ” ìŠ¹ë¥ <br><br>ê³„ì‚°ë²•:<br>- (87ìŠ¹ - í˜„ì¬ìŠ¹ìˆ˜) Ã· ì”ì—¬ê²½ê¸°ìˆ˜<br><br>* 2015-2024ë…„ 1ìœ„íŒ€ í‰ê· : 86.9ìŠ¹</span></span></div>
                                <div class="stat-value" id="historical-required-winpct">-</div>
                            </div>
                        </div>
                        
                        <div class="clinch-date-box" style="text-align: center; padding: 16px; background: linear-gradient(135deg, rgba(26, 35, 126, 0.1), rgba(57, 73, 171, 0.1)); border-radius: 12px; border: 1px solid var(--border-color);">
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: 4px;">
                                ì˜ˆìƒ ìš°ìŠ¹í™•ì •ì¼ <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ìš°ìŠ¹ì´ í™•ì •ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ë‚ ì§œ<br><br>ê³„ì‚°ë²•:<br>- ì˜¤ëŠ˜ë‚ ì§œ + ë§¤ì§ë„˜ë²„ë§Œí¼ ê²½ê¸°ì¼<br>- ì›”ìš”ì¼ ë¬´ê²½ê¸°ì¼ ì œì™¸</span></span>
                            </div>
                            <div id="clinch-date" style="font-size: 1.2rem; font-weight: 600; color: var(--primary-color);">-</div>
                        </div>
                    </div>
                    <div style="color: #666; font-size: 0.85rem; margin-top: 15px; text-align: left; padding-top: 10px; border-top: 1px solid #e2e8f0;">
                        ğŸ“Œ ì•ˆë‚´: ì¼ë¶€ ì§€í‘œëŠ” ìˆ˜í•™ì ì¸ ê³„ì‚° ê²°ê³¼ì…ë‹ˆë‹¤. ì‹œì¦Œì´ ì§„í–‰ë˜ë©´ì„œ í˜„ì‹¤í™”ë©ë‹ˆë‹¤.
                    </div>
                </div>

                <!-- ì¿ íŒ¡ ê´‘ê³  ì˜ì—­ 1 -->
                <div class="coupang-ad-wrapper card" style="text-align: center; overflow: hidden;">
                    <div style="font-size: 0.8rem; color: #666; margin-bottom: 10px;">ê´‘ê³ </div>
                    <!-- ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ê´‘ê³  ì½”ë“œ -->
                    <script src="https://ads-partners.coupang.com/g.js"></script>
                    <script>
                        new PartnersCoupang.G({"id":867629,"trackingCode":"AF6959276","subId":null,"template":"carousel","width":"960","height":"180"});
                    </script>
                </div>

                <!-- ê´‘ê³  2: ê¸°ì‚¬ê°„ ë°°ë„ˆ -->
                <div style="text-align: center; margin: 30px 0;">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-5508768187151867"
                         data-ad-slot="7298546648"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <!-- 1ìœ„ ì¶”ê²©íŒ€ ê°€ëŠ¥ì„± -->
                <div class="card" id="chase">
                    <h2>ğŸ¯ 1ìœ„ íƒˆí™˜ ê°€ëŠ¥ì„±</h2>
                    <div style="text-align: right; font-size: 0.75rem; color: #999; margin-bottom: 15px;">
                        ğŸ“Š <span class="data-load-time">2025. 8. 1. ì˜¤í›„ 11:42 KBO ê³µì‹</span>
                    </div>
                    <div id="chase-analysis">
                        <div class="table-container">
                            <table id="chase-table">
                            <thead>
                                <tr>
                                    <th>ìˆœìœ„</th>
                                    <th>íŒ€ëª…</th>
                                    <th>í˜„ì¬ìŠ¹ìˆ˜ <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">í˜„ì¬ê¹Œì§€ íšë“í•œ ìŠ¹ìˆ˜</span></span></th>
                                    <th>ê²Œì„ì°¨ <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">1ìœ„ íŒ€ê³¼ì˜ ìŠ¹ìˆ˜ ì°¨ì´</span></span></th>
                                    <th>ì”ì—¬ê²½ê¸° <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ì‹œì¦Œ ëê¹Œì§€ ë‚¨ì€ ê²½ê¸° ìˆ˜</span></span></th>
                                    <th>ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜ <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ë‚¨ì€ ê²½ê¸°ë¥¼ ëª¨ë‘ ì´ê²¼ì„ ë•Œ ìŠ¹ìˆ˜<br><br>ê³„ì‚°ë²•:<br>- í˜„ì¬ìŠ¹ìˆ˜ + ì”ì—¬ê²½ê¸°ìˆ˜</span></span></th>
                                    <th>1ìœ„íŒ€ í•„ìš”<br>ì¡°ê±´ <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ì¶”ê²©íŒ€ì´ ì „ìŠ¹í•  ë•Œ 1ìœ„ê°€ ì ¸ì•¼ í•  ê²½ê¸°ìˆ˜<br><br>ê³„ì‚°ë²•:<br>- ì¶”ê²©íŒ€ ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜ - 1ìœ„ í˜„ì¬ìŠ¹ìˆ˜</span></span></th>
                                    <th>í˜„ì¬ 1ìœ„<br>íƒˆí™˜ ê°€ëŠ¥ ì—¬ë¶€ <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">1ìœ„ ì¶”ì›”ì´ ê°€ëŠ¥í•œì§€ ì—¬ë¶€ (ì‚°ìˆ ì ì¸ ê³„ì‚°)<br><br>íŒë‹¨ê¸°ì¤€:<br>- ì¶”ê²©íŒ€ ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜ > 1ìœ„ í˜„ì¬ìŠ¹ìˆ˜</span></span></th>
                                    <th>ì—­ëŒ€ 1ìœ„ ê¸°ì¤€<br>í•„ìš” ìŠ¹ë¥  <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">144ê²½ê¸° ì²´ì œ ì—­ëŒ€ 1ìœ„ í‰ê·  87ìŠ¹ ë‹¬ì„±ì„ ìœ„í•´ ì”ì—¬ê²½ê¸°ì—ì„œ ì–»ì–´ì•¼ í•˜ëŠ” ìŠ¹ë¥ <br><br>ê³„ì‚°ë²•:<br>- (87ìŠ¹ - í˜„ì¬ìŠ¹ìˆ˜) Ã· ì”ì—¬ê²½ê¸°ìˆ˜<br><br>* 2015-2024ë…„ 1ìœ„íŒ€ í‰ê· : 86.9ìŠ¹<br><br>ğŸ† ì”ì—¬ê²½ê¸° ìŠ¹ë¥  ë‹¬ì„± ë‚œì´ë„:<br>ğŸŸ¢ 0.000-0.450 (ë§¤ìš° ì‰¬ì›€)<br>ğŸŸ¡ 0.451-0.550 (ì‰¬ì›€)<br>ğŸŸ  0.551-0.650 (ë³´í†µ)<br>ğŸ”´ 0.651-0.700 (ì–´ë ¤ì›€)<br>âš« 0.701-1.000 (ë§¤ìš° ì–´ë ¤ì›€)<br>âš« 1.000 ì´ˆê³¼ (ë¶ˆê°€ëŠ¥)</span></span></th>
                                    <th>ì—­ëŒ€ 1ìœ„ ì„±ì <br>ë‹¬ì„± ê°€ëŠ¥ì„± <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">144ê²½ê¸° ì²´ì œ ì—­ëŒ€ 1ìœ„ í‰ê·  87ìŠ¹ ë‹¬ì„±ì´ ê°€ëŠ¥í•œì§€ ì—¬ë¶€<br><br>íŒë‹¨ê¸°ì¤€:<br>- í˜„ì¬ìŠ¹ìˆ˜ + ì”ì—¬ê²½ê¸°ìˆ˜ â‰¥ 87ìŠ¹<br><br>* 2015-2024ë…„ 1ìœ„íŒ€ í‰ê· : 86.9ìŠ¹</span></span></th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                            </table>
                        </div>
                    </div>
                    <div style="color: #666; font-size: 0.85rem; margin-top: 15px; text-align: left; padding-top: 10px; border-top: 1px solid #e2e8f0;">
                        ğŸ“Œ ì•ˆë‚´: ì¼ë¶€ ì§€í‘œëŠ” ìˆ˜í•™ì ì¸ ê³„ì‚° ê²°ê³¼ì…ë‹ˆë‹¤. ì‹œì¦Œì´ ì§„í–‰ë˜ë©´ì„œ í˜„ì‹¤í™”ë©ë‹ˆë‹¤.
                    </div>
                </div>

                <!-- ê´‘ê³  3: ê¸°ì‚¬ê°„ ë°°ë„ˆ -->
                <div style="text-align: center; margin: 30px 0;">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-5508768187151867"
                         data-ad-slot="7298546648"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <!-- KBO ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ -->
                <div class="card" id="namuwiki-chart">
                    <h2>ğŸ“‹ ë§¤ì§ë„˜ë²„ ë§¤íŠ¸ë¦­ìŠ¤</h2>
                    <div style="text-align: right; font-size: 0.75rem; color: #999; margin-bottom: 15px;">
                        ğŸ“Š <span class="data-load-time">2025. 8. 4. ì˜¤í›„ 09:04 KBO ê³µì‹</span>
                    </div>
                    <div class="legend-text">
                        <strong>ë§¤ì§ë„˜ë²„ ë§¤íŠ¸ë¦­ìŠ¤:</strong> ê° íŒ€ì´ íŠ¹ì • ìˆœìœ„ì— ë„ë‹¬í•˜ê¸° ìœ„í•´ í•„ìš”í•œ ìŠ¹ìˆ˜ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤<br>
                        <strong>ìƒ‰ìƒ:</strong> <span style="color: #10b981; font-weight: 600;">â–  ì´ˆë¡</span> = ë§¤ì§ë„˜ë²„, <span style="color: #f59e0b; font-weight: 600;">â–  ë…¸ë‘</span> = ê²½í•©ìƒí™©, <span style="color: #ef4444; font-weight: 600;">â–  ë¹¨ê°•</span> = íŠ¸ë˜ì§ë„˜ë²„, <span style="color: #3b82f6; font-weight: 600;">â–  íŒŒë‘</span> = í™•ì •ìƒí™©<br>
                        <strong>ìˆœìœ„ë³„ ì§„ì¶œê¶Œ:</strong> <span style="color: #ffd700; font-weight: 600;">â–  1ìœ„</span> ì •ê·œì‹œì¦Œ ìš°ìŠ¹ | <span style="color: #c0c0c0; font-weight: 600;">â–  2ìœ„</span> í”Œë ˆì´ì˜¤í”„ ì§í–‰ | <span style="color: #cd7f32; font-weight: 600;">â–  3ìœ„</span> ì¤€í”Œë ˆì´ì˜¤í”„ ì§í–‰ | <span style="color: #1a237e; font-weight: 600;">â–  4-5ìœ„</span> ì™€ì¼ë“œì¹´ë“œ
                    </div>
                    <div class="table-container">
                        <table class="namuwiki-magic-table" id="namuwiki-magic-table">
                            <!-- ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ í…Œì´ë¸”ì´ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤ -->
                        </table>
                    </div>
                    <div style="color: #666; font-size: 0.85rem; margin-top: 15px; text-align: left; padding-top: 10px; border-top: 1px solid #e2e8f0;">
                        ğŸ“Œ ì•ˆë‚´: ì¼ë¶€ ì§€í‘œëŠ” ìˆ˜í•™ì ì¸ ê³„ì‚° ê²°ê³¼ì…ë‹ˆë‹¤. ì‹œì¦Œì´ ì§„í–‰ë˜ë©´ì„œ í˜„ì‹¤í™”ë©ë‹ˆë‹¤.<br>
                        ì´ ì°¨íŠ¸ëŠ” ë‚˜ë¬´ìœ„í‚¤ ë§¤íŠ¸ë¦­ìŠ¤ë¥¼ ì°¸ê³ í–ˆìŠµë‹ˆë‹¤.
                    </div>
                </div>

                <!-- ê´‘ê³  5: ê¸°ì‚¬ê°„ ë°°ë„ˆ -->
                <div style="text-align: center; margin: 30px 0;">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-5508768187151867"
                         data-ad-slot="7298546648"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <!-- í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´ -->
                <div class="card" id="playoff">
                    <h2>ğŸŸï¸ í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´</h2>
                    <div style="text-align: right; font-size: 0.75rem; color: #999; margin-bottom: 15px;">
                        ğŸ“Š <span class="data-load-time">2025. 8. 1. ì˜¤í›„ 11:42 KBO ê³µì‹</span>
                    </div>
                    <div id="playoff-condition">
                        <div class="table-container">
                            <table id="playoff-table">
                            <thead>
                                <tr>
                                    <th class="sortable-header" data-sort="rank" onclick="sortTable('playoff', 'rank')">
                                        ìˆœìœ„ <span class="sort-arrow">â†•</span>
                                    </th>
                                    <th>íŒ€ëª…</th>
                                    <th class="sortable-header" data-sort="wins" onclick="sortTable('playoff', 'wins')">
                                        í˜„ì¬ìŠ¹ìˆ˜ <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ì •ê·œì‹œì¦Œì—ì„œ í˜„ì¬ê¹Œì§€ íšë“í•œ ìŠ¹ìˆ˜</span></span>
                                    </th>
                                    <th class="sortable-header" data-sort="remaining" onclick="sortTable('playoff', 'remaining')">
                                        ì”ì—¬ê²½ê¸° <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ì‹œì¦Œ ëê¹Œì§€ ë‚¨ì€ ê²½ê¸° ìˆ˜</span></span>
                                    </th>
                                    <th class="sortable-header" data-sort="maxWins" onclick="sortTable('playoff', 'maxWins')">
                                        ìµœëŒ€ê°€ëŠ¥ ìŠ¹ìˆ˜ <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">ë‚¨ì€ ê²½ê¸°ë¥¼ ëª¨ë‘ ì´ê²¼ì„ ë•Œ ìŠ¹ìˆ˜<br><br>ê³„ì‚°ë²•:<br>- í˜„ì¬ìŠ¹ìˆ˜ + ì”ì—¬ê²½ê¸°ìˆ˜</span></span>
                                    </th>
                                    <th class="sortable-header" data-sort="magic" onclick="sortTable('playoff', 'magic')">
                                        PO<br>ë§¤ì§ë„˜ë²„ <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">í”Œë ˆì´ì˜¤í”„ ì§„ì¶œì„ ìœ„í•´ í•„ìš”í•œ ìŠ¹ìˆ˜<br><br>ê³„ì‚°ë²•:<br>- 72ìŠ¹(ì—­ëŒ€ 5ìœ„ í‰ê· ) - í˜„ì¬ìŠ¹ìˆ˜<br><br>ğŸ“Š ê¸°ì¤€: ì—­ëŒ€ 5ìœ„ íŒ€ í‰ê·  72ìŠ¹ | ì§„ì¶œ ìœ ë ¥: 72ìŠ¹+ | ê²½í•©: 68-71ìŠ¹ | ì–´ë ¤ì›€: 68ìŠ¹ ë¯¸ë§Œ<br><br>ìƒ‰ìƒ ì˜ë¯¸:<br>ğŸŸ¢ í™•ì • (ì´ë¯¸ ë‹¬ì„±)<br>ğŸŸ¡ ì§„ì¶œ ìœ ë ¥ (10ìŠ¹ ì´í•˜)<br>ğŸŸ  ê²½í•© (11-20ìŠ¹)<br>ğŸ”´ ì–´ë ¤ì›€ (21ìŠ¹ ì´ìƒ)</span></span>
                                    </th>
                                    <th class="sortable-header" data-sort="tragic" onclick="sortTable('playoff', 'tragic')">
                                        PO<br>íŠ¸ë˜ì§ë„˜ë²„ <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">í”Œë ˆì´ì˜¤í”„ íƒˆë½ê¹Œì§€ ë‚¨ì€ íŒ¨ë°° ìˆ˜<br><br>ê³„ì‚°ë²•:<br>- 72ìŠ¹ ë‹¬ì„±ì´ ìˆ˜í•™ì ìœ¼ë¡œ ë¶ˆê°€ëŠ¥í•´ì§€ëŠ” ì‹œì ê¹Œì§€ì˜ íŒ¨ë°° ìˆ˜<br>- 72ìŠ¹ ë‹¬ì„± ë¶ˆê°€ëŠ¥í•˜ë©´ í”Œë ˆì´ì˜¤í”„ íƒˆë½<br><br>ìƒ‰ìƒ êµ¬ë¶„:<br>ğŸ”´ íƒˆë½: 72ìŠ¹ ë‹¬ì„± ë¶ˆê°€ëŠ¥<br>ğŸ”´ -1~5: ë§¤ìš° ìœ„í—˜ (ì„ë°•)<br>ğŸŸ  -6~10: ìœ„í—˜<br>ğŸŸ¡ -11~20: ì£¼ì˜<br>ğŸŸ¡ -21~30: ë³´í†µ<br>ğŸŸ¢ -31+: ì•ˆì „</span></span>
                                    </th>
                                    <th class="sortable-header" data-sort="requiredWinPct" onclick="sortTable('playoff', 'requiredWinPct')">
                                        ì”ì—¬ê²½ê¸°<br>í•„ìš” ìŠ¹ë¥  <span class="sort-arrow">â†•</span> <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">í”Œë ˆì´ì˜¤í”„ ì§„ì¶œì„ ìœ„í•´ ì”ì—¬ê²½ê¸°ì—ì„œ ì–»ì–´ì•¼ í•˜ëŠ” ìŠ¹ë¥ <br><br>ê³„ì‚°ë²•:<br>- POë§¤ì§ë„˜ë²„ Ã· ì”ì—¬ê²½ê¸°ìˆ˜</span></span>
                                    </th>
                                    <th>ì§„ì¶œìƒí™© <span class="tooltip"><span class="help-icon">?</span><span class="tooltiptext">í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ê°€ëŠ¥ì„± í‰ê°€<br><br>íŒë‹¨ê¸°ì¤€:<br>- í™•ì •: ì´ë¯¸ 72ìŠ¹ ë‹¬ì„±<br>- ê°€ëŠ¥: ì „ìŠ¹ì‹œ 72ìŠ¹ ë‹¬ì„± ê°€ëŠ¥<br>- ë¶ˆê°€ëŠ¥: ì „ìŠ¹í•´ë„ 72ìŠ¹ ë¯¸ë‹¬</span></span></th>
                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                            </table>
                        </div>
                    </div>
                    <div style="color: #666; font-size: 0.85rem; margin-top: 15px; text-align: left; padding-top: 10px; border-top: 1px solid #e2e8f0;">
                        ğŸ“Œ ì•ˆë‚´: ì¼ë¶€ ì§€í‘œëŠ” ìˆ˜í•™ì ì¸ ê³„ì‚° ê²°ê³¼ì…ë‹ˆë‹¤. ì‹œì¦Œì´ ì§„í–‰ë˜ë©´ì„œ í˜„ì‹¤í™”ë©ë‹ˆë‹¤.
                    </div>
                </div>

                <!-- ê´‘ê³  4: ê¸°ì‚¬ê°„ ë°°ë„ˆ -->
                <div style="text-align: center; margin: 30px 0;">
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-5508768187151867"
                         data-ad-slot="7298546648"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <!-- íŒ€ê°„ ìŠ¹íŒ¨í‘œ -->
                <div class="card" id="vs-records">
                    <h2>âš”ï¸ íŒ€ê°„ ìƒëŒ€ì „ì </h2>
                    <div style="text-align: right; font-size: 0.75rem; color: #999; margin-bottom: 15px;">
                        ğŸ“Š <span class="data-load-time">2025. 8. 1. ì˜¤í›„ 11:42 KBO ê³µì‹</span>
                    </div>
                    <div class="h2h-legend section-subtitle" style="margin-bottom: 15px;">
                        <strong>ì½ëŠ” ë²•:</strong> ì„¸ë¡œì¶• íŒ€ì´ ê°€ë¡œì¶• íŒ€ê³¼ì˜ ì „ì²´ì „ì (ìŠ¹-íŒ¨-ë¬´) / í™ˆ ìŠ¹ë¥  / ì›ì • ìŠ¹ë¥  | <strong>ìƒ‰ìƒ:</strong> <span style="color: #16A34A; font-weight: 600;">â–  ì´ˆë¡</span> = ìƒëŒ€ë³´ë‹¤ ìš°ì„¸, <span style="color: #DC2626; font-weight: 600;">â–  ë¹¨ê°•</span> = ìƒëŒ€ë³´ë‹¤ ì—´ì„¸, <span style="color: #9CA3AF; font-weight: 600;">â–  íšŒìƒ‰</span> = ë™ë¥ /ìê¸°íŒ€
                    </div>
                    <div id="head-to-head">
                        <div class="vs-grid" id="h2h-grid">
                        </div>
                    </div>
                </div>

                <!-- Google AdSense ê´‘ê³  -->
                <div style="width: 90%; max-width: 1200px; margin: 30px auto; text-align: center;">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867"
                         crossorigin="anonymous"></script>
                    <!-- KBO ë§¤ì§ë„˜ë²„ ì¤‘ê°„ ê´‘ê³  -->
                    <ins class="adsbygoogle"
                         style="display:block"
                         data-ad-client="ca-pub-5508768187151867"
                         data-ad-slot="7298546648"
                         data-ad-format="auto"
                         data-full-width-responsive="true"></ins>
                    <script>
                         (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>

                <!-- íŒ€ê°„ ì”ì—¬ ê²½ê¸°ìˆ˜ -->
                <div class="card" id="remaining">
                    <h2>ğŸ“… íŒ€ê°„ ì”ì—¬ ê²½ê¸°ìˆ˜</h2>
                    <div style="text-align: right; font-size: 0.75rem; color: #999; margin-bottom: 15px;">
                        ğŸ“Š <span class="data-load-time">2025. 8. 1. ì˜¤í›„ 11:42 KBO ê³µì‹</span>
                    </div>
                    <div class="h2h-legend section-subtitle" style="margin-bottom: 15px;">
                        <strong>ì½ëŠ” ë²•:</strong> ì„¸ë¡œì¶• íŒ€ì´ ê°€ë¡œì¶• íŒ€ê³¼ ë‚¨ì€ ê²½ê¸°ìˆ˜ | <strong>ìƒ‰ìƒ:</strong> <span style="color: #22C55E; font-weight: 600;">â–  ì´ˆë¡</span> = 7ê²½ê¸° ì´ìƒ, <span style="color: #EAB308; font-weight: 600;">â–  ë…¸ë‘</span> = 4-6ê²½ê¸°, <span style="color: #F97316; font-weight: 600;">â–  ì£¼í™©</span> = 1-3ê²½ê¸°, <span style="color: #9CA3AF; font-weight: 600;">â–  íšŒìƒ‰</span> = ê²½ê¸° ì¢…ë£Œ
                    </div>
                    <div id="remaining-games">
                        <div class="vs-grid" id="remaining-grid">
                        </div>
                    </div>
                </div>

                <!-- ì¿ íŒ¡ ê´‘ê³  ì˜ì—­ 2 -->
                <div class="coupang-ad-wrapper card" style="text-align: center; overflow: hidden;">
                    <div style="font-size: 0.8rem; color: #666; margin-bottom: 10px;">ê´‘ê³ </div>
                    <!-- ì¿ íŒ¡ íŒŒíŠ¸ë„ˆìŠ¤ ê´‘ê³  ì½”ë“œ -->
                    <script src="https://ads-partners.coupang.com/g.js"></script>
                    <script>
                        new PartnersCoupang.G({"id":867629,"trackingCode":"AF6959276","subId":null,"template":"carousel","width":"960","height":"180"});
                    </script>
                </div>

                <!-- ê°œì„  ì œì•ˆ ì¹´ë“œ -->
                <div class="card">
                    <h2>ğŸ’¡ ê°œì„  ì œì•ˆì„ ë³´ë‚´ì£¼ì„¸ìš”</h2>
                    <div style="text-align: center;">
                        <p style="font-size: 0.9rem; margin: 0 0 20px 0; color: var(--text-secondary); line-height: 1.5;">
                            ë” ë‚˜ì€ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•´ ì—¬ëŸ¬ë¶„ì˜ ì˜ê²¬ì´ í•„ìš”í•©ë‹ˆë‹¤<br>
                            <span style="font-size: 0.8rem; opacity: 0.8;">íšŒì›ê°€ì… ì—†ì´ ê°„í¸í•˜ê²Œ ì œì¶œ ê°€ëŠ¥í•©ë‹ˆë‹¤</span>
                        </p>
                        <a href="https://docs.google.com/forms/d/e/1FAIpQLSdsKAxcN6CuEf2f7WkEscHxdub20VlkaNTtis_okXUh-I4BTQ/viewform?usp=header" target="_blank" style="
                            display: inline-block;
                            color: white;
                            text-decoration: none;
                            font-size: 0.9rem;
                            padding: 12px 24px;
                            background: var(--primary-color);
                            border-radius: 8px;
                            transition: all 0.3s ease;
                            font-weight: 500;
                            box-shadow: 0 2px 8px rgba(26, 35, 126, 0.2);
                        " onmouseover="this.style.backgroundColor='var(--primary-hover)'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 12px rgba(26, 35, 126, 0.3)'"
                           onmouseout="this.style.backgroundColor='var(--primary-color)'; this.style.transform='translateY(0)'; this.style.boxShadow='0 2px 8px rgba(26, 35, 126, 0.2)'">
                            ğŸ“ ê°œì„  ì œì•ˆ ì„¤ë¬¸ì§€ ì‘ì„±í•˜ê¸°
                        </a>
                    </div>
                </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ê´‘ê³  6: í‘¸í„° ìƒë‹¨ ë°°ë„ˆ (ê°€ë¡œí˜•) -->
    <div style="text-align: center; margin: 20px 0 10px 0;">
        <ins class="adsbygoogle"
             style="display:block"
             data-ad-client="ca-pub-5508768187151867"
             data-ad-slot="7298546648"
             data-ad-format="auto"
             data-full-width-responsive="true"></ins>
        <script>
             (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>

    <!-- í‘¸í„° -->
    <footer style="
        width: 100%;
        margin-top: 30px;
        padding: 20px 0 15px;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        color: white;
        text-align: center;
        border-top: 1px solid var(--border-color);
    ">
        <div class="container">
            <div style="margin-bottom: 20px;">
                <h3 style="margin: 0 0 12px 0; font-size: 1.1rem; font-weight: 500; color: white;">âš¾ KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°</h3>
                <p style="margin: 0 0 15px 0; font-size: 0.9rem; opacity: 0.9;">í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´, ìš°ìŠ¹ ê°€ëŠ¥ì„±, íŒ€ë³„ ìˆœìœ„í‘œì™€ ìƒëŒ€ì „ì ì„ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</p>
                
                <div style="text-align: center; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-bottom: 15px;">
                    <a href="https://www.koreabaseball.com/" target="_blank" style="
                        color: rgba(255,255,255,0.9);
                        text-decoration: none;
                        font-size: 0.85rem;
                        padding: 8px 16px;
                        border: 1px solid rgba(255,255,255,0.3);
                        border-radius: 20px;
                        transition: all 0.3s ease;
                        display: inline-block;
                        white-space: nowrap;
                    " onmouseover="this.style.backgroundColor='rgba(255,255,255,0.1)'; this.style.borderColor='rgba(255,255,255,0.5)'" 
                       onmouseout="this.style.backgroundColor='transparent'; this.style.borderColor='rgba(255,255,255,0.3)'">
                        ğŸ“º KBO ê³µí™ˆ
                    </a>
                    <a href="https://www.koreabaseball.com/Schedule/Schedule.aspx" target="_blank" style="
                        color: rgba(255,255,255,0.9);
                        text-decoration: none;
                        font-size: 0.85rem;
                        padding: 8px 16px;
                        border: 1px solid rgba(255,255,255,0.3);
                        border-radius: 20px;
                        transition: all 0.3s ease;
                        display: inline-block;
                        white-space: nowrap;
                    " onmouseover="this.style.backgroundColor='rgba(255,255,255,0.1)'; this.style.borderColor='rgba(255,255,255,0.5)'" 
                       onmouseout="this.style.backgroundColor='transparent'; this.style.borderColor='rgba(255,255,255,0.3)'">
                        ğŸ“… ì¼ì •
                    </a>
                    <a href="https://www.koreabaseball.com/Record/TeamRank/TeamRankDaily.aspx" target="_blank" style="
                        color: rgba(255,255,255,0.9);
                        text-decoration: none;
                        font-size: 0.85rem;
                        padding: 8px 16px;
                        border: 1px solid rgba(255,255,255,0.3);
                        border-radius: 20px;
                        transition: all 0.3s ease;
                        display: inline-block;
                        white-space: nowrap;
                    " onmouseover="this.style.backgroundColor='rgba(255,255,255,0.1)'; this.style.borderColor='rgba(255,255,255,0.5)'" 
                       onmouseout="this.style.backgroundColor='transparent'; this.style.borderColor='rgba(255,255,255,0.3)'">
                        ğŸ“Š ìˆœìœ„í‘œ
                    </a>
                </div>
                
                <!-- PC ë²„ì „ ë³´ê¸° ê¸°ëŠ¥ (ëª¨ë°”ì¼ì—ì„œë§Œ í‘œì‹œ) -->
                <div id="mobile-controls" style="margin-top: 15px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.1); font-size: 0.85rem; display: none;">
                    <button id="toggle-desktop-view" style="
                        background: rgba(255,255,255,0.1);
                        color: rgba(255,255,255,0.9);
                        border: 1px solid rgba(255,255,255,0.2);
                        padding: 8px 12px;
                        border-radius: 6px;
                        font-size: 0.75rem;
                        cursor: pointer;
                        transition: all 0.3s ease;
                        margin-right: 10px;
                    ">
                        ğŸ–¥ï¸ PC ë²„ì „ìœ¼ë¡œ ë³´ê¸°
                    </button>
                    <span style="opacity: 0.6; font-size: 0.7rem;">ë” ì›í™œí•œ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤</span>
                </div>
            </div>
            
            <div style="border-top: 1px solid rgba(255,255,255,0.2); padding-top: 20px; font-size: 0.8rem; opacity: 0.8;">
                <p style="margin: 0 0 10px 0;">
                    Â© 2025 <a href="https://kbo.mahalohana-bruce.com/magic-number/" style="color: rgba(255,255,255,0.9); text-decoration: none; font-weight: 500;">KBO ë§¤ì§ë„˜ë²„ ê³„ì‚°ê¸°</a>
                </p>
                <p style="margin: 0; font-size: 0.75rem; opacity: 0.7;">
                    KBO ê³µì‹ ë°ì´í„° ê¸°ë°˜ | ğŸ“… ë§¤ì¼ ì˜¤í›„ 11ì‹œ 30ë¶„ ìë™ ì—…ë°ì´íŠ¸<br>
                    âš¾ ë³¸ ì‚¬ì´íŠ¸ì— ì‚¬ìš©ëœ êµ¬ë‹¨ ë¡œê³ ëŠ” ê° êµ¬ë‹¨ì˜ ê³µì‹ ìë£Œë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤
                </p>
                
            </div>
        </div>
    </footer>

    <script>
        // KBO íŒ€ ë°ì´í„° (2025 ì‹œì¦Œ ê¸°ì¤€)
        const kboTeams = {
            "í•œí™”": { fullName: "í•œí™” ì´ê¸€ìŠ¤", color: "#FF6600", logo: '<img src="images/hanwha.png" class="team-logo" alt="í•œí™”">' },
            "LG": { fullName: "LG íŠ¸ìœˆìŠ¤", color: "#C50E2E", logo: '<img src="images/lg.png" class="team-logo" alt="LG">' },
            "ë‘ì‚°": { fullName: "ë‘ì‚° ë² ì–´ìŠ¤", color: "#131230", logo: '<img src="images/doosan.png" class="team-logo" alt="ë‘ì‚°">' },
            "ì‚¼ì„±": { fullName: "ì‚¼ì„± ë¼ì´ì˜¨ì¦ˆ", color: "#1F4E8C", logo: '<img src="images/samsung.png" class="team-logo" alt="ì‚¼ì„±">' },
            "KIA": { fullName: "KIA íƒ€ì´ê±°ì¦ˆ", color: "#EA0029", logo: '<img src="images/kia.png" class="team-logo" alt="KIA">' },
            "SSG": { fullName: "SSG ëœë”ìŠ¤", color: "#CE0E2D", logo: '<img src="images/ssg.png" class="team-logo" alt="SSG">' },
            "ë¡¯ë°": { fullName: "ë¡¯ë° ìì´ì–¸ì¸ ", color: "#041E42", logo: '<img src="images/lotte.png" class="team-logo" alt="ë¡¯ë°">' },
            "NC": { fullName: "NC ë‹¤ì´ë…¸ìŠ¤", color: "#315288", logo: '<img src="images/nc.png" class="team-logo" alt="NC">' },
            "í‚¤ì›€": { fullName: "í‚¤ì›€ íˆì–´ë¡œì¦ˆ", color: "#570514", logo: '<img src="images/kiwoom.png" class="team-logo" alt="í‚¤ì›€">' },
            "KT": { fullName: "KT ìœ„ì¦ˆ", color: "#000000", logo: '<img src="images/kt.png" class="team-logo" alt="KT">' }
        };

        // KBO ìˆœìœ„ ë°ì´í„° (ë™ì  ë¡œë”©)
        let currentStandings = [];
        
        // ë©”ëª¨ë¦¬ ê´€ë¦¬ë¥¼ ìœ„í•œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ê´€ë¦¬ì
        class EventManager {
            constructor() {
                this.listeners = new Map();
                this.boundCleanup = this.cleanup.bind(this);
                
                // í˜ì´ì§€ ì–¸ë¡œë“œ ì‹œ ì •ë¦¬
                window.addEventListener('beforeunload', this.boundCleanup);
                window.addEventListener('pagehide', this.boundCleanup);
            }
            
            add(element, event, handler, options = {}) {
                const key = `${element.constructor.name}_${event}_${Date.now()}`;
                element.addEventListener(event, handler, options);
                
                this.listeners.set(key, {
                    element,
                    event,
                    handler,
                    options
                });
                
                return key; // ë‚˜ì¤‘ì— ê°œë³„ ì œê±°í•  ë•Œ ì‚¬ìš©
            }
            
            remove(key) {
                if (this.listeners.has(key)) {
                    const { element, event, handler } = this.listeners.get(key);
                    element.removeEventListener(event, handler);
                    this.listeners.delete(key);
                }
            }
            
            cleanup() {
                console.log(`ğŸ§¹ ë©”ëª¨ë¦¬ ì •ë¦¬: ${this.listeners.size}ê°œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°`);
                this.listeners.forEach(({ element, event, handler }) => {
                    try {
                        element.removeEventListener(event, handler);
                    } catch (e) {
                        console.warn('ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±° ì‹¤íŒ¨:', e);
                    }
                });
                this.listeners.clear();
                
            }
        }
        
        // ì „ì—­ ì´ë²¤íŠ¸ ê´€ë¦¬ì ì¸ìŠ¤í„´ìŠ¤
        const eventManager = new EventManager();
        
        // ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        const Utils = {
            // íŒ€ëª…ê³¼ ë¡œê³ ë¥¼ ì¡°í•©í•œ HTML ìƒì„±
            getTeamNameWithLogo(team, includeRank = false) {
                const teamData = kboTeams[team.team || team];
                if (!teamData) return team.team || team;
                
                const teamName = team.team || team;
                const logoAndName = `
                    <div style="display: flex; align-items: center; gap: 3px;">
                        ${teamData.logo}
                        <span style="color: ${teamData.color}; font-weight: 600;">${teamName}</span>
                    </div>
                `;
                
                if (includeRank && team.rank) {
                    return `${logoAndName} <span style="color: #666; font-size: 0.9rem;">(${team.rank}ìœ„)</span>`;
                }
                
                return logoAndName;
            },
            
            // í™ˆ/ì–´ì›¨ì´ ê¸°ë¡ í‘œì‹œ HTML ìƒì„±
            getHomeAwayDisplay(teamName) {
                const homeAwayRecords = {
                    "í•œí™”": { home: "30-16-2", away: "28-21-1" },
                    "LG": { home: "31-19-0", away: "26-21-2" },
                    "ë¡¯ë°": { home: "28-21-2", away: "26-22-1" },
                    "KT": { home: "26-23-1", away: "24-24-2" },
                    "SSG": { home: "24-22-2", away: "23-24-2" },
                    "ì‚¼ì„±": { home: "27-22-0", away: "21-26-1" },
                    "KIA": { home: "26-20-3", away: "20-27-1" },
                    "NC": { home: "24-21-2", away: "20-24-3" },
                    "ë‘ì‚°": { home: "21-25-3", away: "20-27-2" },
                    "í‚¤ì›€": { home: "16-32-2", away: "12-36-2" }
                };
                
                const teamHomeAway = homeAwayRecords[teamName] || { home: "0-0-0", away: "0-0-0" };
                
                // í™ˆ/ë°©ë¬¸ ìŠ¹ë¥  ê³„ì‚°
                const parseRecord = (record) => {
                    const [wins, losses, draws] = record.split('-').map(Number);
                    const totalGames = wins + losses;
                    const winRate = totalGames > 0 ? (wins / totalGames) : 0;
                    return { wins, losses, draws, winRate };
                };
                
                const homeStats = parseRecord(teamHomeAway.home);
                const awayStats = parseRecord(teamHomeAway.away);
                
                return `
                    <div style="
                        font-size: 0.9rem; 
                        line-height: 1.4;
                        text-align: center;
                        color: #555;
                    ">
                        <div style="margin-bottom: 3px; font-weight: 600;">
                            ${teamHomeAway.home} / ${teamHomeAway.away}
                        </div>
                        <div style="font-size: 0.85rem; color: #666;">
                            ğŸ  ${homeStats.winRate.toFixed(3)} / âœˆï¸ ${awayStats.winRate.toFixed(3)}
                        </div>
                    </div>
                `;
            },
            
            // ë§¤ì§ë„˜ë²„ í‘œì‹œ HTML ìƒì„±
            getMagicNumberDisplay(team) {
                const magicNumbers = currentStandings.length > 0 ? 
                    (JSON.parse(localStorage.getItem('kbo-magic-numbers')) || {}) : {};
                
                let magicNumber = 0;
                if (team.rank === 1) {
                    // 1ìœ„íŒ€: ìš°ìŠ¹ ë§¤ì§ë„˜ë²„
                    const firstPlaceMagic = magicNumbers[team.team];
                    magicNumber = firstPlaceMagic ? firstPlaceMagic.championship : 0;
                } else {
                    // ë‚˜ë¨¸ì§€ íŒ€: PO ì§„ì¶œ ë§¤ì§ë„˜ë²„ (72ìŠ¹ ê¸°ì¤€)
                    magicNumber = Math.max(0, 72 - team.wins);
                }
                
                if (magicNumber === 0) {
                    return team.rank === 1 ? 
                        '<span style="color: #FFD700; font-weight: 700;">ìš°ìŠ¹í™•ì •</span>' :
                        '<span style="color: #4CAF50; font-weight: 700;">POí™•ì •</span>';
                }
                
                // ë§¤ì§ë„˜ë²„ ìƒ‰ìƒ ê²°ì •
                let color = '#666';
                if (magicNumber <= 3) color = '#4CAF50';      // ì´ˆë¡
                else if (magicNumber <= 10) color = '#FF9800'; // ì£¼í™©
                else if (magicNumber <= 20) color = '#FF5722'; // ë¹¨ê°•
                else color = '#9E9E9E';                        // íšŒìƒ‰
                
                return `<span style="color: ${color}; font-weight: 600;">${magicNumber}</span>`;
            },
            
            // í…Œì´ë¸” í–‰ HTML ìƒì„± (ê³µí†µ ìŠ¤íƒ€ì¼ ì ìš©)
            createTableRow(cells, teamColor = null, additionalClasses = '') {
                const row = document.createElement('tr');
                if (teamColor) {
                    row.style.borderLeft = `4px solid ${teamColor}`;
                }
                if (additionalClasses) {
                    row.className = additionalClasses;
                }
                
                row.innerHTML = cells.map(cell => `<td>${cell}</td>`).join('');
                return row;
            }
        };
        
        // ì—ëŸ¬ ì²˜ë¦¬ ë° ì‚¬ìš©ì ì•Œë¦¼ í•¨ìˆ˜ë“¤
        function showNotification(message, type = 'error', duration = 5000) {
            // ê¸°ì¡´ ì•Œë¦¼ ì œê±°
            const existingNotification = document.querySelector('.error-notification');
            if (existingNotification) {
                existingNotification.remove();
            }
            
            const notification = document.createElement('div');
            notification.className = `error-notification ${type}`;
            notification.innerHTML = `
                <button class="close-btn" onclick="this.parentElement.remove()">&times;</button>
                <strong>${type === 'error' ? 'âš ï¸ ì˜¤ë¥˜' : 'âœ… ì•Œë¦¼'}</strong><br>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            // ìë™ ì œê±°
            if (duration > 0) {
                setTimeout(() => {
                    if (notification.parentElement) {
                        notification.remove();
                    }
                }, duration);
            }
        }
        
        function handleError(error, context = 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜') {
            console.error(`âŒ ${context}:`, error);
            
            let userMessage = '';
            if (error.name === 'TypeError' && error.message.includes('fetch')) {
                userMessage = 'ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•©ë‹ˆë‹¤.';
            } else if (error.name === 'SyntaxError') {
                userMessage = 'ë°ì´í„° í˜•ì‹ì— ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ë°±ì—… ë°ì´í„°ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.';
            } else {
                userMessage = `${context} ë°œìƒ. ë°±ì—… ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë¹„ìŠ¤ë¥¼ ê³„ì† ì œê³µí•©ë‹ˆë‹¤.`;
            }
            
            showNotification(userMessage, 'error', 8000);
        }
        
        // ë°ì´í„° ì •ë³´ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        function updateLoadingTime(data) {
            try {
                // í˜„ì¬ ì‹œê°„ (ë°ì´í„° ë¡œë”© ì‹œê°„)
                const now = new Date();
                const loadDate = now.toLocaleDateString('ko-KR');
                const loadTime = now.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' });
                
                // í‘œì‹œ í…ìŠ¤íŠ¸ êµ¬ì„±
                const displayText = `${loadDate} ${loadTime} KBO ê³µì‹`;
                
                // ëª¨ë“  ë°ì´í„° ì •ë³´ í‘œì‹œ ì—…ë°ì´íŠ¸
                const loadTimeElements = document.querySelectorAll('.data-load-time');
                loadTimeElements.forEach(element => {
                    if (element) {
                        element.textContent = displayText;
                    }
                });
                
                console.log('ğŸ“Š ë°ì´í„° ë¡œë”© ì‹œê°„ ì—…ë°ì´íŠ¸:', displayText);
            } catch (error) {
                console.error('âŒ ë°ì´í„° ë¡œë”© ì‹œê°„ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
            }
        }

        // ë°ì´í„° ë¡œë”© í•¨ìˆ˜
        async function loadKBOData() {
            try {
                console.log('ğŸ” KBO ë°ì´í„° ë¡œë”© ì‹œì‘...');
                const response = await fetch(`service-data.json?v=${Date.now()}`);
                console.log('ğŸ“¡ ì‘ë‹µ ìƒíƒœ:', response.status, response.statusText);
                if (response.ok) {
                    const data = await response.json();
                    console.log('ğŸ“Š ë¡œë“œëœ ë°ì´í„°:', data);
                    // JSON ë°ì´í„° êµ¬ì¡°ë¥¼ JavaScript ì½”ë“œê°€ ê¸°ëŒ€í•˜ëŠ” í˜•íƒœë¡œ ë³€í™˜
                    currentStandings = (data.standings || []).map(team => ({
                        ...team,
                        winPct: team.winRate || team.winPct || 0, // winRateë¥¼ winPctë¡œ ë³€í™˜
                        recent10: team.recent10 || "5ìŠ¹ 0ë¬´ 5íŒ¨",
                        streak: team.streak || "1ìŠ¹",
                        homeAway: { 
                            home: team.homeRecord || "0-0-0", 
                            away: team.awayRecord || "0-0-0" 
                        } // ì‹¤ì œ í™ˆ/ì›ì • ê¸°ë¡ ì‚¬ìš©
                    }));
                    
                    // currentKBODataì— ì „ì²´ ë°ì´í„° ì €ì¥ (playoffData í¬í•¨)
                    currentKBOData = data;
                    console.log('âœ… KBO ë°ì´í„° ë¡œë”© ì™„ë£Œ:', currentStandings.length + 'íŒ€');
                    
                    // ë°ì´í„° ë¡œë”© ì‹œê°„ ì—…ë°ì´íŠ¸
                    updateLoadingTime(data);
                    
                    showNotification(`ìµœì‹  KBO ë°ì´í„° ë¡œë”© ì™„ë£Œ (${currentStandings.length}ê°œ íŒ€)`, 'success', 3000);
                    return data;
                } else {
                    console.error('âŒ ì‘ë‹µ ì‹¤íŒ¨:', response.status, response.statusText);
                    throw new Error(`ë°ì´í„° ë¡œë”© ì‹¤íŒ¨: ${response.status} ${response.statusText}`);
                }
            } catch (error) {
                console.error('âŒ loadKBOData ì—ëŸ¬ ìƒì„¸:', error);
                handleError(error, 'KBO ë°ì´í„° ë¡œë”© ì‹¤íŒ¨');
                // ë°±ì—… ë°ì´í„° ì‚¬ìš©
                currentStandings = [
                    { rank: 1, team: "í•œí™”", games: 100, wins: 59, losses: 38, draws: 3, winPct: 0.608, gamesBehind: 0, recent10: "4ìŠ¹1ë¬´5íŒ¨", streak: "1íŒ¨", homeAway: { home: "31-16-2", away: "28-22-1" } },
                    { rank: 2, team: "LG", games: 101, wins: 59, losses: 40, draws: 2, winPct: 0.596, gamesBehind: 1, recent10: "9ìŠ¹0ë¬´1íŒ¨", streak: "4ìŠ¹", homeAway: { home: "32-19-0", away: "27-21-2" } },
                    { rank: 3, team: "ë¡¯ë°", games: 102, wins: 55, losses: 44, draws: 3, winPct: 0.556, gamesBehind: 5, recent10: "7ìŠ¹0ë¬´3íŒ¨", streak: "1íŒ¨", homeAway: { home: "29-21-2", away: "26-23-1" } },
                    { rank: 4, team: "SSG", games: 99, wins: 49, losses: 46, draws: 4, winPct: 0.516, gamesBehind: 9, recent10: "6ìŠ¹1ë¬´3íŒ¨", streak: "2ìŠ¹", homeAway: { home: "24-21-4", away: "25-25-0" } },
                    { rank: 5, team: "KIA", games: 99, wins: 48, losses: 47, draws: 4, winPct: 0.505, gamesBehind: 10, recent10: "2ìŠ¹1ë¬´7íŒ¨", streak: "2ìŠ¹", homeAway: { home: "29-20-2", away: "19-27-2" } },
                    { rank: 6, team: "KT", games: 102, wins: 50, losses: 49, draws: 3, winPct: 0.505, gamesBehind: 10, recent10: "5ìŠ¹0ë¬´5íŒ¨", streak: "4íŒ¨", homeAway: { home: "26-25-1", away: "24-24-2" } },
                    { rank: 7, team: "NC", games: 96, wins: 45, losses: 46, draws: 5, winPct: 0.495, gamesBehind: 11, recent10: "5ìŠ¹0ë¬´5íŒ¨", streak: "1ìŠ¹", homeAway: { home: "19-19-0", away: "26-27-5" } },
                    { rank: 8, team: "ì‚¼ì„±", games: 99, wins: 48, losses: 50, draws: 1, winPct: 0.49, gamesBehind: 11.5, recent10: "4ìŠ¹0ë¬´6íŒ¨", streak: "3íŒ¨", homeAway: { home: "30-21-0", away: "18-29-1" } },
                    { rank: 9, team: "ë‘ì‚°", games: 100, wins: 41, losses: 54, draws: 5, winPct: 0.432, gamesBehind: 17, recent10: "3ìŠ¹2ë¬´5íŒ¨", streak: "2íŒ¨", homeAway: { home: "20-28-4", away: "21-26-1" } },
                    { rank: 10, team: "í‚¤ì›€", games: 102, wins: 29, losses: 69, draws: 4, winPct: 0.296, gamesBehind: 30.5, recent10: "2ìŠ¹1ë¬´7íŒ¨", streak: "1ìŠ¹", homeAway: { home: "18-35-2", away: "11-34-2" } }
                ];
                console.log('ğŸ“Š ë°±ì—… ë°ì´í„° ì‚¬ìš©:', currentStandings.length + 'íŒ€');
                // ë°±ì—… ë°ì´í„°ë„ JSON í˜•ì‹ìœ¼ë¡œ ë°˜í™˜
                const backupData = {
                    rankings: currentStandings,
                    magicNumbers: {},
                    lastUpdated: new Date().toISOString(),
                    updateDate: new Date().toLocaleDateString('ko-KR')
                };
                
                // ë°±ì—… ë°ì´í„° ì‚¬ìš©ì‹œì—ë„ ë¡œë”© ì‹œê°„ ì—…ë°ì´íŠ¸
                updateLoadingTime(backupData);
                
                return backupData;
            }
        }

        // íŒ€ê°„ ìƒëŒ€ì „ì  ë°ì´í„° (ë™ì  ë¡œë”©)
        let headToHeadData = {};

        // ìƒëŒ€ì „ì  ë°ì´í„° ë¡œë”© í•¨ìˆ˜
        async function loadHeadToHeadData() {
            try {
                console.log('ğŸ” ìƒëŒ€ì „ì  ë°ì´í„° ë¡œë”© ì‹œì‘...');
                const response = await fetch(`kbo-records.json?v=${Date.now()}`);
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('ğŸ“¡ ìƒëŒ€ì „ì  ì‘ë‹µ ìƒíƒœ:', response.status);
                    
                    if (data && data.totalData) {
                        // kbo-records.json í˜•ì‹ì„ headToHeadData í˜•ì‹ìœ¼ë¡œ ë³€í™˜
                        headToHeadData = {};
                        
                        for (const [team1, opponents] of Object.entries(data.totalData)) {
                            headToHeadData[team1] = {};
                            
                            for (const [team2, record] of Object.entries(opponents)) {
                                const wins = record.wins || 0;
                                const losses = record.losses || 0;
                                const draws = record.draws || 0;
                                
                                // ì „ì²´ ë°ì´í„°ë¥¼ ë³´ì¡´í•˜ì—¬ ì‹¤ì œ í™ˆ/ì›ì • ê¸°ë¡ ì‚¬ìš© ê°€ëŠ¥
                                headToHeadData[team1][team2] = record;
                            }
                        }
                        
                        console.log('âœ… ìƒëŒ€ì „ì  ë°ì´í„° ë¡œë”© ì™„ë£Œ:', Object.keys(headToHeadData).length + 'ê°œ íŒ€');
                        return headToHeadData;
                    } else {
                        throw new Error('ìƒëŒ€ì „ì  ë°ì´í„° í˜•ì‹ ì˜¤ë¥˜');
                    }
                } else {
                    throw new Error(`ìƒëŒ€ì „ì  ë°ì´í„° ë¡œë”© ì‹¤íŒ¨: ${response.status}`);
                }
            } catch (error) {
                console.error('âŒ ìƒëŒ€ì „ì  ë°ì´í„° ë¡œë”© ì‹¤íŒ¨:', error);
                
                // ë°±ì—… ë°ì´í„° ì‚¬ìš©
                console.log('ğŸ“Š ìƒëŒ€ì „ì  ë°±ì—… ë°ì´í„° ì‚¬ìš©');
                headToHeadData = {
                    "í•œí™”": { "LG": "4-5-1", "ë¡¯ë°": "4-6-0", "KT": "8-3-0", "KIA": "8-3-0", "ì‚¼ì„±": "6-4-0", "SSG": "6-6-0", "NC": "7-4-1", "ë‘ì‚°": "6-5-1", "í‚¤ì›€": "10-1-0" },
                    "LG": { "í•œí™”": "5-4-1", "ë¡¯ë°": "6-4-1", "KT": "5-4-0", "KIA": "7-4-0", "ì‚¼ì„±": "6-6-0", "SSG": "8-4-0", "NC": "6-5-0", "ë‘ì‚°": "6-5-0", "í‚¤ì›€": "9-4-0" },
                    "ë¡¯ë°": { "í•œí™”": "6-4-0", "LG": "4-6-1", "KT": "6-4-2", "KIA": "6-6-0", "ì‚¼ì„±": "7-3-0", "SSG": "5-6-0", "NC": "4-4-0", "ë‘ì‚°": "6-6-0", "í‚¤ì›€": "10-4-0" },
                    "KT": { "í•œí™”": "3-8-0", "LG": "4-5-0", "ë¡¯ë°": "4-6-2", "KIA": "5-7-0", "ì‚¼ì„±": "7-3-0", "SSG": "5-6-0", "NC": "6-5-0", "ë‘ì‚°": "7-5-1", "í‚¤ì›€": "9-3-0" },
                    "KIA": { "í•œí™”": "3-8-0", "LG": "4-7-0", "ë¡¯ë°": "6-6-0", "KT": "7-5-0", "ì‚¼ì„±": "3-7-0", "SSG": "5-4-1", "NC": "5-3-0", "ë‘ì‚°": "7-2-0", "í‚¤ì›€": "6-5-3" },
                    "ì‚¼ì„±": { "í•œí™”": "4-6-0", "LG": "6-6-0", "ë¡¯ë°": "3-7-0", "KT": "3-7-0", "KIA": "7-3-0", "SSG": "6-5-1", "NC": "6-6-0", "ë‘ì‚°": "7-6-0", "í‚¤ì›€": "6-3-0" },
                    "SSG": { "í•œí™”": "6-6-0", "LG": "4-8-0", "ë¡¯ë°": "6-5-0", "KT": "6-5-0", "KIA": "4-5-1", "ì‚¼ì„±": "5-6-1", "NC": "7-2-2", "ë‘ì‚°": "5-4-1", "í‚¤ì›€": "4-5-0" },
                    "NC": { "í•œí™”": "4-7-1", "LG": "5-6-0", "ë¡¯ë°": "4-4-0", "KT": "5-6-0", "KIA": "3-5-0", "ì‚¼ì„±": "6-6-0", "SSG": "2-7-2", "ë‘ì‚°": "5-3-2", "í‚¤ì›€": "10-2-1" },
                    "ë‘ì‚°": { "í•œí™”": "5-6-1", "LG": "5-6-0", "ë¡¯ë°": "6-6-0", "KT": "5-7-1", "KIA": "2-7-0", "ì‚¼ì„±": "6-7-0", "SSG": "4-5-1", "NC": "3-5-2", "í‚¤ì›€": "5-3-3" },
                    "í‚¤ì›€": { "í•œí™”": "1-10-0", "LG": "4-9-0", "ë¡¯ë°": "4-10-0", "KT": "3-9-0", "KIA": "5-6-3", "ì‚¼ì„±": "3-6-0", "SSG": "5-4-0", "NC": "2-10-1", "ë‘ì‚°": "3-5-3" }
                };
                
                return headToHeadData;
            }
        }


        // ìš”ì•½ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸
        function updateSummaryDashboard() {
            const firstPlace = currentStandings[0];
            const secondPlace = currentStandings[1];
            
            // 1ìœ„ íŒ€ ì •ë³´
            const firstTeamData = kboTeams[firstPlace.team];
            document.getElementById('first-place-team').innerHTML = `
                <div style="display: flex; align-items: center; gap: 4px; justify-content: center;">
                    ${firstTeamData.logo}
                    <span style="color: ${firstTeamData.color}; font-weight: 600;">${firstPlace.team}</span>
                </div>
            `;
            const magicNumber = calculateMagicNumber(firstPlace, secondPlace);
            document.getElementById('first-place-magic').textContent = `ë§¤ì§ë„˜ë²„: ${magicNumber > 0 ? magicNumber : 'í™•ì •'}`;

            // í”Œë ˆì´ì˜¤í”„ í™•ì • íŒ€ ìˆ˜ (72ìŠ¹ ì´ìƒ)
            const confirmedTeams = currentStandings.filter(team => team.wins >= 72).length;
            document.getElementById('playoff-confirmed-teams').textContent = `${confirmedTeams}ê°œ íŒ€`;
            
            // í”Œë ˆì´ì˜¤í”„ í™•ì • íŒ€ì´ ìˆìœ¼ë©´ ì²« ë²ˆì§¸ í™•ì • íŒ€ ì •ë³´ í‘œì‹œ
            if (confirmedTeams > 0) {
                const firstConfirmedTeam = currentStandings.find(team => team.wins >= 72);
                if (firstConfirmedTeam) {
                    const teamData = kboTeams[firstConfirmedTeam.team];
                    document.getElementById('playoff-confirmed-desc').innerHTML = `<span style="color: ${teamData.color}; font-weight: 600;">${firstConfirmedTeam.team}</span> ì™¸ ${confirmedTeams - 1}íŒ€`;
                }
            } else {
                document.getElementById('playoff-confirmed-desc').textContent = '72ìŠ¹ ì´ìƒ ë‹¬ì„±';
            }

            // ìµœê³  ì—°ìŠ¹íŒ€
            let bestStreak = { team: '', count: 0, type: '' };
            currentStandings.forEach(team => {
                if (team.streak.includes('ìŠ¹')) {
                    const count = parseInt(team.streak);
                    if (count > bestStreak.count) {
                        bestStreak = { team: team.team, count: count, type: 'ìŠ¹' };
                    }
                }
            });
            if (bestStreak.team) {
                const bestTeamData = kboTeams[bestStreak.team];
                document.getElementById('best-streak-team').innerHTML = `
                    <div style="display: flex; align-items: center; gap: 4px; justify-content: center;">
                        ${bestTeamData.logo}
                        <span style="color: ${bestTeamData.color}; font-weight: 600;">${bestStreak.team}</span>
                    </div>
                `;
                document.getElementById('best-streak-count').textContent = `${bestStreak.count}ì—°ìŠ¹ ì¤‘`;
            } else {
                document.getElementById('best-streak-team').textContent = 'ì—†ìŒ';
                document.getElementById('best-streak-count').textContent = '-';
            }

            // ìµœê·¼ 10ê²½ê¸° ì„±ì ì´ ê°€ì¥ ì¢‹ì€ íŒ€ ì°¾ê¸°
            let bestRecentTeam = null;
            let bestRecentWins = -1;
            
            currentStandings.forEach(team => {
                if (team.recent10) {
                    // "8ìŠ¹ 0ë¬´ 2íŒ¨" í˜•íƒœì—ì„œ ìŠ¹ìˆ˜ ì¶”ì¶œ
                    const winsMatch = team.recent10.match(/(\d+)ìŠ¹/);
                    if (winsMatch) {
                        const wins = parseInt(winsMatch[1]);
                        if (wins > bestRecentWins) {
                            bestRecentWins = wins;
                            bestRecentTeam = team;
                        }
                    }
                }
            });
            
            if (bestRecentTeam && bestRecentWins >= 0) {
                const teamData = kboTeams[bestRecentTeam.team];
                document.getElementById('recent-best-team').innerHTML = `
                    <div style="display: flex; align-items: center; gap: 4px; justify-content: center;">
                        ${teamData.logo}
                        <span style="color: ${teamData.color}; font-weight: 600;">${bestRecentTeam.team}</span>
                    </div>
                `;
                document.getElementById('recent-best-record').textContent = bestRecentTeam.recent10;
            } else {
                document.getElementById('recent-best-team').textContent = '-';
                document.getElementById('recent-best-record').textContent = '-';
            }
        }

        // í…Œì´ë¸” ì •ë ¬ ìƒíƒœ
        let sortState = {
            standings: { column: '', direction: '' },
            playoff: { column: '', direction: '' }
        };

        // í…Œì´ë¸” ì •ë ¬ í•¨ìˆ˜
        function sortTable(tableType, column) {
            const currentSort = sortState[tableType];
            
            // ì •ë ¬ ë°©í–¥ ê²°ì •
            let direction = 'asc';
            if (currentSort.column === column) {
                direction = currentSort.direction === 'asc' ? 'desc' : 'asc';
            }
            
            // ì´ì „ í—¤ë”ì˜ ì •ë ¬ í‘œì‹œ ì œê±°
            document.querySelectorAll(`#${tableType}-table .sortable-header`).forEach(header => {
                header.classList.remove('sort-asc', 'sort-desc');
                const arrow = header.querySelector('.sort-arrow');
                if (arrow) arrow.textContent = 'â†•';
            });
            
            // í˜„ì¬ í—¤ë”ì— ì •ë ¬ í‘œì‹œ ì¶”ê°€
            const currentHeader = document.querySelector(`#${tableType}-table .sortable-header[data-sort="${column}"]`);
            if (currentHeader) {
                currentHeader.classList.add(direction === 'asc' ? 'sort-asc' : 'sort-desc');
                const arrow = currentHeader.querySelector('.sort-arrow');
                if (arrow) arrow.textContent = direction === 'asc' ? 'â†‘' : 'â†“';
            }
            
            // ì •ë ¬ ìƒíƒœ ì—…ë°ì´íŠ¸
            sortState[tableType] = { column, direction };
            
            // í…Œì´ë¸” ì •ë ¬ ì‹¤í–‰
            if (tableType === 'standings') {
                sortStandingsTable(column, direction);
            } else if (tableType === 'playoff') {
                sortPlayoffTable(column, direction);
            }
        }

        // ìˆœìœ„í‘œ ì •ë ¬
        function sortStandingsTable(column, direction) {
            const table = document.getElementById('standings-table');
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            
            // í…Œì´ë¸”ì— ì •ë ¬ ì¤‘ í‘œì‹œ
            table.classList.add('sorting');
            
            rows.sort((a, b) => {
                let aValue, bValue;
                
                switch(column) {
                    case 'rank':
                        aValue = parseInt(a.cells[0].textContent);
                        bValue = parseInt(b.cells[0].textContent);
                        break;
                    case 'games':
                        aValue = parseInt(a.cells[2].textContent);
                        bValue = parseInt(b.cells[2].textContent);
                        break;
                    case 'wins':
                        aValue = parseInt(a.cells[3].textContent);
                        bValue = parseInt(b.cells[3].textContent);
                        break;
                    case 'losses':
                        aValue = parseInt(a.cells[4].textContent);
                        bValue = parseInt(b.cells[4].textContent);
                        break;
                    case 'draws':
                        aValue = parseInt(a.cells[5].textContent);
                        bValue = parseInt(b.cells[5].textContent);
                        break;
                    case 'winLossMargin':
                        aValue = parseInt(a.cells[6].textContent.replace('+', ''));
                        bValue = parseInt(b.cells[6].textContent.replace('+', ''));
                        break;
                    case 'winPct':
                        aValue = parseFloat(a.cells[7].textContent);
                        bValue = parseFloat(b.cells[7].textContent);
                        break;
                    case 'gamesBehind':
                        aValue = a.cells[9].textContent === '-' ? 0 : parseFloat(a.cells[9].textContent);
                        bValue = b.cells[9].textContent === '-' ? 0 : parseFloat(b.cells[9].textContent);
                        break;
                    case 'recent10':
                        aValue = parseInt(a.cells[11].textContent.split('ìŠ¹')[0]);
                        bValue = parseInt(b.cells[11].textContent.split('ìŠ¹')[0]);
                        break;
                    case 'streak':
                        const aStreak = a.cells[12].textContent;
                        const bStreak = b.cells[12].textContent;
                        aValue = aStreak.includes('ìŠ¹') ? parseInt(aStreak) : -parseInt(aStreak);
                        bValue = bStreak.includes('ìŠ¹') ? parseInt(bStreak) : -parseInt(bStreak);
                        break;
                    case 'magic':
                        const aMagic = a.cells[12].textContent;
                        const bMagic = b.cells[12].textContent;
                        aValue = getMagicNumberSortValue(aMagic);
                        bValue = getMagicNumberSortValue(bMagic);
                        break;
                    default:
                        return 0;
                }
                
                if (direction === 'asc') {
                    return aValue > bValue ? 1 : aValue < bValue ? -1 : 0;
                } else {
                    return aValue < bValue ? 1 : aValue > bValue ? -1 : 0;
                }
            });
            
            // ì •ë ¬ëœ í–‰ë“¤ì„ ë‹¤ì‹œ ì¶”ê°€
            tbody.innerHTML = '';
            rows.forEach((row, index) => {
                row.style.animationDelay = `${index * 0.05}s`;
                tbody.appendChild(row);
            });
            
            // ì •ë ¬ ì™„ë£Œ í›„ í‘œì‹œ ì œê±°
            setTimeout(() => {
                table.classList.remove('sorting');
            }, 300);
        }

        // í”Œë ˆì´ì˜¤í”„ í…Œì´ë¸” ì •ë ¬
        function sortPlayoffTable(column, direction) {
            const table = document.getElementById('playoff-table');
            const tbody = table.querySelector('tbody');
            const rows = Array.from(tbody.querySelectorAll('tr'));
            
            table.classList.add('sorting');
            
            rows.sort((a, b) => {
                let aValue, bValue;
                
                switch(column) {
                    case 'rank':
                        aValue = parseInt(a.cells[0].textContent);
                        bValue = parseInt(b.cells[0].textContent);
                        break;
                    case 'wins':
                        aValue = parseInt(a.cells[2].textContent);
                        bValue = parseInt(b.cells[2].textContent);
                        break;
                    case 'remaining':
                        aValue = parseInt(a.cells[3].textContent);
                        bValue = parseInt(b.cells[3].textContent);
                        break;
                    case 'maxWins':
                        aValue = parseInt(a.cells[4].textContent);
                        bValue = parseInt(b.cells[4].textContent);
                        break;
                    case 'magic':
                        const aMagic = a.cells[5].textContent;
                        const bMagic = b.cells[5].textContent;
                        aValue = getMagicNumberSortValue(aMagic);
                        bValue = getMagicNumberSortValue(bMagic);
                        break;
                    case 'requiredWinPct':
                        const aReq = a.cells[6].textContent;
                        const bReq = b.cells[6].textContent;
                        aValue = aReq === '-' || aReq === 'ë‹¬ì„±' ? -1 : parseFloat(aReq);
                        bValue = bReq === '-' || bReq === 'ë‹¬ì„±' ? -1 : parseFloat(bReq);
                        break;
                    default:
                        return 0;
                }
                
                if (direction === 'asc') {
                    return aValue > bValue ? 1 : aValue < bValue ? -1 : 0;
                } else {
                    return aValue < bValue ? 1 : aValue > bValue ? -1 : 0;
                }
            });
            
            tbody.innerHTML = '';
            rows.forEach((row, index) => {
                row.style.animationDelay = `${index * 0.05}s`;
                tbody.appendChild(row);
            });
            
            setTimeout(() => {
                table.classList.remove('sorting');
            }, 300);
        }

        // ë§¤ì§ë„˜ë²„ ì •ë ¬ ê°’ ë³€í™˜
        function getMagicNumberSortValue(magic) {
            if (magic === 'í™•ì •' || magic === 'POí™•ì •') return -1;
            if (magic === 'ë¶ˆê°€ëŠ¥') return 9999;
            return parseInt(magic) || 0;
        }

        function renderStandingsTable() {
            try {
                console.log('ğŸ“Š renderStandingsTable ì‹œì‘');
                console.log('currentStandings:', currentStandings);
                
                const tbody = document.querySelector('#standings-table tbody');
                console.log('tbody ìš”ì†Œ:', tbody);
                
                if (!tbody) {
                    throw new Error('ìˆœìœ„í‘œ í…Œì´ë¸”ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                }
                tbody.innerHTML = '';

                if (!currentStandings || currentStandings.length === 0) {
                    throw new Error('ìˆœìœ„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                }

                // ëª¨ë“  ì¶”ê²©íŒ€ì˜ ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜ ì¤‘ ìµœê³ ê°’ ì°¾ê¸°
                const maxPossibleWinsByChaser = Math.max(...currentStandings.slice(1).map(team => 
                    team.wins + (144 - team.games)
                ));

                currentStandings.forEach(team => {
                const row = document.createElement('tr');
                const totalGames = 144;
                const remainingGames = totalGames - team.games;
                const teamData = kboTeams[team.team];
                
                // ë°ì´í„° ê²€ì¦
                if (!teamData) {
                    console.error('âŒ íŒ€ ë°ì´í„° ì—†ìŒ:', team.team);
                    showNotification(`${team.team} íŒ€ ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.`, 'error', 3000);
                    return;
                }
                
                let rankClass = '';
                if (team.rank === 1) rankClass = 'rank-1';
                else if (team.rank === 2) rankClass = 'rank-2';
                else if (team.rank === 3) rankClass = 'rank-3';
                else if (team.rank >= 4 && team.rank <= 5) rankClass = 'playoff';
                
                row.className = rankClass;
                row.style.borderLeft = `4px solid ${teamData.color}`;

                // ë§¤ì§ë„˜ë²„ ê³„ì‚°
                let magicNumberDisplay = '-';
                if (team.rank === 1) {
                    const magicNumber = Math.max(0, maxPossibleWinsByChaser + 1 - team.wins);
                    magicNumberDisplay = magicNumber > 0 ? magicNumber : 'í™•ì •';
                } else {
                    const playoffBaseline = 72;
                    const playoffMagicNumber = Math.max(0, playoffBaseline - team.wins);
                    if (playoffMagicNumber === 0) {
                        magicNumberDisplay = 'POí™•ì •';
                    } else if (team.wins + (144 - team.games) >= playoffBaseline) {
                        magicNumberDisplay = playoffMagicNumber;
                    } else {
                        magicNumberDisplay = 'ë¶ˆê°€ëŠ¥';
                    }
                }

                // ì—°ì† ê¸°ë¡ ê°•ì¡°
                const streakFormatted = formatStreak(team.streak);
                
                // ìµœê·¼ 10ê²½ê¸° ê°•ì¡°
                const recent10Formatted = formatRecent10(team.recent10);
                
                // íŒ€ëª… ë¡œê³  ì¶”ê°€
                const teamNameWithLogo = Utils.getTeamNameWithLogo(team);

                // í™ˆ/ë°©ë¬¸ ì„±ì  - JSON ë°ì´í„°ì—ì„œ ì‹¤ì œ ê°’ ì‚¬ìš©
                const teamHomeAway = team.homeAway || { home: "0-0-0", away: "0-0-0" };
                const homeAwayDisplay = `<div style="line-height: 1.4; font-size: 0.95rem;"><span style="color: #2563eb; font-weight: 500;">ğŸ  ${teamHomeAway.home}</span><br><span style="color: #dc2626; font-weight: 500;">âœˆï¸ ${teamHomeAway.away}</span></div>`;

                const winLossMargin = team.wins - team.losses;
                const marginColor = winLossMargin > 0 ? '#27ae60' : winLossMargin < 0 ? '#e74c3c' : '#666';
                const marginDisplay = winLossMargin > 0 ? `+${winLossMargin}` : winLossMargin.toString();
                
                row.innerHTML = `
                    <td style="color: ${teamData.color}; font-weight: 700;">${team.rank}</td>
                    <td>${teamNameWithLogo}</td>
                    <td>${team.games}</td>
                    <td>${team.wins}</td>
                    <td>${team.losses}</td>
                    <td>${team.draws}</td>
                    <td style="color: ${marginColor}; font-weight: 600;">${marginDisplay}</td>
                    <td>${team.winPct.toFixed(3)}</td>
                    <td>${homeAwayDisplay}</td>
                    <td>${team.gamesBehind === 0 ? '-' : team.gamesBehind}</td>
                    <td>${remainingGames}</td>
                    <td>${recent10Formatted}</td>
                    <td>${streakFormatted}</td>
                    <td>${magicNumberDisplay}</td>
                `;

                tbody.appendChild(row);
            });
            } catch (error) {
                handleError(error, 'ìˆœìœ„í‘œ ë Œë”ë§ ì‹¤íŒ¨');
                // ì—ëŸ¬ê°€ ë°œìƒí•˜ë©´ ê¸°ë³¸ ë©”ì‹œì§€ í‘œì‹œ
                const tbody = document.querySelector('#standings-table tbody');
                if (tbody) {
                    tbody.innerHTML = '<tr><td colspan="13" style="text-align: center; color: #999; padding: 20px;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</td></tr>';
                }
            }
        }

        function formatStreak(streak) {
            if (streak.includes('ìŠ¹')) {
                const winCount = parseInt(streak);
                if (winCount >= 3) {
                    return `<span style="color: var(--success-color); font-weight: 700;">${streak}</span>`;
                }
                return `<span style="color: var(--success-color); font-weight: 600;">${streak}</span>`;
            } else if (streak.includes('íŒ¨')) {
                const lossCount = parseInt(streak);
                if (lossCount >= 3) {
                    return `<span style="color: var(--danger-color); font-weight: 700;">${streak}</span>`;
                }
                return `<span style="color: var(--danger-color); font-weight: 600;">${streak}</span>`;
            }
            return streak;
        }

        function formatRecent10(recent10) {
            // "6ìŠ¹1ë¬´3íŒ¨" í˜•íƒœ íŒŒì‹±
            const winMatch = recent10.match(/(\d+)ìŠ¹/);
            const lossMatch = recent10.match(/(\d+)íŒ¨/);
            
            const wins = winMatch ? parseInt(winMatch[1]) : 0;
            const losses = lossMatch ? parseInt(lossMatch[1]) : 0;
            
            // ìƒ‰ìƒ ê¸°ì¤€: 7ìŠ¹ ì´ìƒ(ë…¹ìƒ‰), 5-6ìŠ¹(ë…¸ë€ìƒ‰), 4ìŠ¹ ì´í•˜(ë¹¨ê°„ìƒ‰)
            if (wins >= 7) {
                // 7ìŠ¹ ì´ìƒ - ëœ¨ê±°ìš´ ìƒìŠ¹ì„¸
                return `<span style="color: var(--success-color); font-weight: 700;">${recent10}</span>`;
            } else if (wins >= 5) {
                // 5-6ìŠ¹ - ì–‘í˜¸í•œ íë¦„
                return `<span style="color: var(--warning-color); font-weight: 600;">${recent10}</span>`;
            } else {
                // 4ìŠ¹ ì´í•˜ - ë¶€ì§„í•œ íë¦„
                return `<span style="color: var(--danger-color); font-weight: 600;">${recent10}</span>`;
            }
        }

        function getStatusIndicator(team) {
            if (team.rank === 1 && team.magicNumber <= 10) {
                return '<span class="status-indicator clinched">ìš°ìŠ¹ê¶Œ</span>';
            } else if (team.rank <= 5) {
                return '<span class="status-indicator contending">POê¶Œ</span>';
            }
            return '';
        }

        function calculateMagicNumber(firstPlace, secondPlace) {
            const totalGames = 144; // KBO ì •ê·œì‹œì¦Œ ì´ ê²½ê¸°ìˆ˜
            // 2ìœ„íŒ€ì˜ ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜
            const secondPlaceMaxWins = secondPlace.wins + (totalGames - secondPlace.games);
            // ë§¤ì§ë„˜ë²„ = 2ìœ„íŒ€ ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜ + 1 - 1ìœ„íŒ€ í˜„ì¬ìŠ¹ìˆ˜
            const magicNumber = secondPlaceMaxWins + 1 - firstPlace.wins;
            return Math.max(0, magicNumber);
        }


        function renderChampionshipCondition() {
            console.log('ğŸ† ìš°ìŠ¹ ì¡°ê±´ ë Œë”ë§ ì‹œì‘');
            console.log('í˜„ì¬ ìˆœìœ„ ë°ì´í„°:', currentStandings);
            
            if (!currentStandings || currentStandings.length === 0) {
                console.error('âŒ currentStandings ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                return;
            }
            
            const firstPlace = currentStandings[0];
            const secondPlace = currentStandings[1];
            const teamData = kboTeams[firstPlace.team];
            
            console.log('1ìœ„ íŒ€ ë°ì´í„°:', firstPlace);
            
            const totalGames = 144;
            const remainingGames = totalGames - firstPlace.games;
            const maxPossibleWins = firstPlace.wins + remainingGames;
            const magicNumber = calculateMagicNumber(firstPlace, secondPlace);
            
            // ìš°ìŠ¹ ê°€ëŠ¥ ìµœì†Œ ìŠ¹ìˆ˜ ê³„ì‚° (2ìœ„ì˜ ìµœëŒ€ê°€ëŠ¥ìŠ¹ìˆ˜ + 1)
            const secondPlaceMaxWins = secondPlace.wins + (144 - secondPlace.games);
            const minWinsNeeded = secondPlaceMaxWins + 1;
            
            // ìš°ìŠ¹ ê°€ëŠ¥ ìµœì†Œ ìŠ¹ìˆ˜ë¥¼ ë‹¬ì„±í•˜ê¸° ìœ„í•œ í•„ìš” ìŠ¹ë¥  ê³„ì‚°
            const neededWinsForMinWins = Math.max(0, minWinsNeeded - firstPlace.wins);
            const requiredWinPct = remainingGames > 0 ? (neededWinsForMinWins / remainingGames) : 0;
            
            // 144ê²½ê¸° ì²´ì œ ì—­ëŒ€ 1ìœ„ í‰ê·  ê¸°ì¤€ í•„ìš” ìŠ¹ë¥  ê³„ì‚° (2015-2024: 86.9ìŠ¹)
            const historicalFirstPlaceWins = 87; // 2015-2024ë…„ 1ìœ„íŒ€ í‰ê·  ìŠ¹ìˆ˜
            const neededWinsForHistorical = Math.max(0, historicalFirstPlaceWins - firstPlace.wins);
            const historicalRequiredWinPct = remainingGames > 0 ? (neededWinsForHistorical / remainingGames) : 0;
            
            // ì˜ˆìƒ ìš°ìŠ¹í™•ì •ì¼ ê³„ì‚°
            let clinchDateText = '';
            
            if (magicNumber > 0) {
                const targetGameNumber = firstPlace.games + magicNumber;
                
                if (targetGameNumber <= totalGames) {
                    clinchDateText = `${targetGameNumber}ë²ˆì§¸ ê²½ê¸°ì—ì„œ í™•ì • ê°€ëŠ¥ (ì¼ì • ì—…ë°ì´íŠ¸ ì˜ˆì •)`;
                } else {
                    clinchDateText = `ì‹œì¦Œ ì¢…ë£Œ í›„ (${targetGameNumber}ë²ˆì§¸ ê²½ê¸° í•„ìš”)`;
                }
            } else {
                clinchDateText = 'ì´ë¯¸ ìš°ìŠ¹ í™•ì •';
            }
            
            // íŒ€ ë¡œê³ ì™€ ì´ë¦„ ì—…ë°ì´íŠ¸
            document.getElementById('first-place-logo').innerHTML = teamData.logo;
            document.getElementById('first-place-team-name').textContent = `${firstPlace.team} 1ìœ„`;
            document.getElementById('first-place-team-name').style.color = teamData.color;
            
            // ë§¤ì§ë„˜ë²„ ë¼ì¸ ì˜† ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('remaining-games-top-display').textContent = `${remainingGames}ê²½ê¸°`;
            document.getElementById('min-wins-top-display').textContent = `${minWinsNeeded}ìŠ¹`;
            
            // ê° ì¹´ë“œ ì •ë³´ ì—…ë°ì´íŠ¸
            document.getElementById('first-place-record').textContent = `${firstPlace.wins}ìŠ¹ ${firstPlace.losses}íŒ¨ ${firstPlace.draws}ë¬´`;
            document.getElementById('first-place-winpct').textContent = `${(firstPlace.winPct || firstPlace.winRate).toFixed(3)}`;
            document.getElementById('first-place-max-wins').textContent = `${maxPossibleWins}ìŠ¹`;
            document.getElementById('championship-magic').textContent = `ë§¤ì§ë„˜ë²„: ${magicNumber > 0 ? magicNumber : 'ìš°ìŠ¹í™•ì •'}`;
            document.getElementById('required-winpct').textContent = neededWinsForMinWins > 0 ? `${requiredWinPct.toFixed(3)}` : 'ë‹¬ì„±';
            document.getElementById('historical-required-winpct').textContent = neededWinsForHistorical > 0 ? `${historicalRequiredWinPct.toFixed(3)}` : 'ë‹¬ì„±';
            document.getElementById('clinch-date').textContent = clinchDateText;
        }

        function renderChaseAnalysis() {
            try {
                const tbody = document.querySelector('#chase-table tbody');
                if (!tbody) {
                    throw new Error('1ìœ„ íƒˆí™˜ ê°€ëŠ¥ì„± í…Œì´ë¸”ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                }
                tbody.innerHTML = '';

                if (!currentStandings || currentStandings.length === 0) {
                    throw new Error('ìˆœìœ„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                }

                const firstPlace = currentStandings[0];
                
                // 144ê²½ê¸° ì²´ì œ ì—­ëŒ€ 1ìœ„ í‰ê·  ìŠ¹ìˆ˜ (2015-2024: 86.9ìŠ¹)
                const historicalFirstPlaceWins = 87; // 2015-2024ë…„ 1ìœ„íŒ€ í‰ê·  ìŠ¹ìˆ˜

                currentStandings.slice(1).forEach(team => {
                const teamData = kboTeams[team.team];
                const remainingGames = 144 - team.games;
                const maxPossibleWins = team.wins + remainingGames;
                const firstPlaceRemaining = 144 - firstPlace.games;
                const requiredFirstPlaceWins = maxPossibleWins - 1;
                const canCatch = maxPossibleWins > firstPlace.wins;
                
                // ì—­ëŒ€ 1ìœ„ í‰ê·  ê¸°ì¤€ìœ¼ë¡œ í•„ìš” ìŠ¹ë¥  ê³„ì‚°
                const neededWinsForHistoricalAverage = Math.max(0, historicalFirstPlaceWins - team.wins);
                const requiredWinPctForAverage = remainingGames > 0 ? 
                    Math.min(1, neededWinsForHistoricalAverage / remainingGames) : 0;
                
                // 144ê²½ê¸° ì²´ì œ ì—­ëŒ€ 1ìœ„ ì„±ì  ë‹¬ì„± ê°€ëŠ¥ì„± (87ìŠ¹ ë‹¬ì„± ê°€ëŠ¥í•œì§€)
                const canReachHistoricalAverage = maxPossibleWins >= historicalFirstPlaceWins;
                
                // KBO ìŠ¹ë¥  ë¶„í¬ ê¸°ì¤€ ìƒ‰ìƒ ê³„ì‚° (ì „ì²´ íŒ€ ê³ ë ¤)
                let winPctColor = '';
                let winPctDisplay = '';
                
                if (requiredWinPctForAverage > 1) {
                    winPctColor = '#2c3e50'; // ê²€ì€ìƒ‰ (ìˆ˜í•™ì  ë¶ˆê°€ëŠ¥)
                    winPctDisplay = 'ë¶ˆê°€ëŠ¥';
                } else if (requiredWinPctForAverage > 0.700) {
                    winPctColor = '#2c3e50'; // ê²€ì€ìƒ‰ (ì—­ì‚¬ìƒ ìµœê³  ìˆ˜ì¤€)
                    winPctDisplay = requiredWinPctForAverage.toFixed(3);
                } else if (requiredWinPctForAverage > 0.650) {
                    winPctColor = '#e74c3c'; // ë¹¨ê°„ìƒ‰ (ìƒìœ„ê¶Œ ìš°ìŠ¹íŒ€ ìˆ˜ì¤€)
                    winPctDisplay = requiredWinPctForAverage.toFixed(3);
                } else if (requiredWinPctForAverage > 0.550) {
                    winPctColor = '#e67e22'; // ì£¼í™©ìƒ‰ (í”Œë ˆì´ì˜¤í”„ê¶Œ ìˆ˜ì¤€)
                    winPctDisplay = requiredWinPctForAverage.toFixed(3);
                } else if (requiredWinPctForAverage > 0.450) {
                    winPctColor = '#f1c40f'; // ë…¸ë€ìƒ‰ (ì¤‘ìœ„ê¶Œ ìˆ˜ì¤€)
                    winPctDisplay = requiredWinPctForAverage.toFixed(3);
                } else {
                    winPctColor = '#27ae60'; // ë…¹ìƒ‰ (ë‹¬ì„± ê°€ëŠ¥í•œ ìˆ˜ì¤€)
                    winPctDisplay = requiredWinPctForAverage.toFixed(3);
                }
                
                const row = document.createElement('tr');
                row.style.borderLeft = `4px solid ${teamData.color}`;
                
                // ìˆœìœ„ë³„ í´ë˜ìŠ¤ ì ìš©
                let rankClass = '';
                if (team.rank === 2) rankClass = 'rank-2';
                else if (team.rank === 3) rankClass = 'rank-3';
                else if (team.rank >= 4 && team.rank <= 5) rankClass = 'playoff';
                row.className = rankClass;
                
                // íŒ€ëª…ì— ë¡œê³  ì¶”ê°€
                const teamNameWithLogo = Utils.getTeamNameWithLogo(team);
                
                row.innerHTML = `
                    <td style="color: ${teamData.color}; font-weight: 700;">${team.rank}</td>
                    <td>${teamNameWithLogo}</td>
                    <td style="font-weight: 600;">${team.wins}</td>
                    <td>${team.gamesBehind}</td>
                    <td>${remainingGames}</td>
                    <td>${maxPossibleWins}</td>
                    <td>${requiredFirstPlaceWins}ìŠ¹ ì´í•˜</td>
                    <td style="color: ${canCatch ? '#27ae60' : '#e74c3c'}; font-weight: 600;">
                        ${canCatch ? 'ê°€ëŠ¥' : 'ë¶ˆê°€ëŠ¥'}
                    </td>
                    <td style="color: ${winPctColor}; font-weight: 600;">${winPctDisplay}</td>
                    <td style="color: ${canReachHistoricalAverage ? '#27ae60' : '#e74c3c'}; font-weight: 600;">
                        ${canReachHistoricalAverage ? 'ê°€ëŠ¥' : 'ë¶ˆê°€ëŠ¥'}
                    </td>
                `;
                tbody.appendChild(row);
            });
            } catch (error) {
                handleError(error, '1ìœ„ íƒˆí™˜ ê°€ëŠ¥ì„± ë Œë”ë§ ì‹¤íŒ¨');
                const tbody = document.querySelector('#chase-table tbody');
                if (tbody) {
                    tbody.innerHTML = '<tr><td colspan="10" style="text-align: center; color: #999; padding: 20px;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</td></tr>';
                }
            }
        }

        function renderPlayoffCondition() {
            try {
                const tbody = document.querySelector('#playoff-table tbody');
                if (!tbody) {
                    throw new Error('í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´ í…Œì´ë¸”ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                }
                tbody.innerHTML = '';

                if (!currentKBOData || !currentKBOData.playoffData || currentKBOData.playoffData.length === 0) {
                    throw new Error('í”Œë ˆì´ì˜¤í”„ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤');
                }

                currentKBOData.playoffData.forEach((team) => {
                const teamData = kboTeams[team.team];
                
                // JSON ë°ì´í„°ì—ì„œ ì§ì ‘ ê°€ì ¸ì˜¤ê¸°
                const playoffMagicNumber = team.playoffMagic;
                const eliminationMagicNumber = team.eliminationMagic;
                const statusText = team.status;
                const requiredWinPct = team.requiredWinRate > 0 ? team.requiredWinRate.toFixed(3) : '-';
                const remainingGames = team.remainingGames;
                const maxPossibleWins = team.maxPossibleWins;
                
                // ë§¤ì§ë„˜ë²„ í‘œì‹œ
                let magicDisplay = '';
                let magicColor = '';
                
                if (playoffMagicNumber === '-' || playoffMagicNumber === 0) {
                    magicDisplay = 'í™•ì •';
                    magicColor = '#27ae60'; // ë…¹ìƒ‰
                } else if (playoffMagicNumber <= 10) {
                    magicDisplay = playoffMagicNumber;
                    magicColor = '#f1c40f'; // ë…¸ë€ìƒ‰
                } else if (playoffMagicNumber <= 20) {
                    magicDisplay = playoffMagicNumber;
                    magicColor = '#e67e22'; // ì£¼í™©ìƒ‰
                } else {
                    magicDisplay = playoffMagicNumber;
                    magicColor = '#e74c3c'; // ë¹¨ê°„ìƒ‰
                }
                
                // íŠ¸ë˜ì§ë„˜ë²„ í‘œì‹œ
                let tragicDisplay = '';
                let tragicColor = '';
                
                if (eliminationMagicNumber === 0) {
                    tragicDisplay = 'íƒˆë½';
                    tragicColor = '#e74c3c'; // ë¹¨ê°„ìƒ‰ - ì´ë¯¸ íƒˆë½
                } else if (eliminationMagicNumber === '-' || eliminationMagicNumber === 999) {
                    tragicDisplay = '-';
                    tragicColor = '#2ecc71'; // ë…¹ìƒ‰ - 72ìŠ¹ ë‹¬ì„± ë˜ëŠ” í™•ì •
                } else {
                    // ìˆ«ì ì•ì— - ë¶€í˜¸ë¥¼ ë¶™ì—¬ì„œ í‘œì‹œ (ê·¸ë¼ë°ì´ì…˜ ìƒ‰ìƒ)
                    tragicDisplay = `-${eliminationMagicNumber}`;
                    
                    // íŠ¸ë˜ì§ ë„˜ë²„ë³„ ì„¸ë°€í•œ ê·¸ë¼ë°ì´ì…˜
                    if (eliminationMagicNumber <= 5) {
                        tragicColor = '#c0392b'; // ì§„í•œ ë¹¨ê°„ìƒ‰ (ë§¤ìš° ìœ„í—˜)
                    } else if (eliminationMagicNumber <= 10) {
                        tragicColor = '#e74c3c'; // ë¹¨ê°„ìƒ‰ (ìœ„í—˜)
                    } else if (eliminationMagicNumber <= 15) {
                        tragicColor = '#e67e22'; // ì£¼í™©ìƒ‰ (ê²½ê³ )
                    } else if (eliminationMagicNumber <= 20) {
                        tragicColor = '#f39c12'; // ì—°í•œ ì£¼í™©ìƒ‰ (ì£¼ì˜)
                    } else if (eliminationMagicNumber <= 25) {
                        tragicColor = '#f1c40f'; // ë…¸ë€ìƒ‰ (ë³´í†µ)
                    } else if (eliminationMagicNumber <= 30) {
                        tragicColor = '#f4d03f'; // ì—°í•œ ë…¸ë€ìƒ‰ (ì•ˆì •)
                    } else {
                        tragicColor = '#27ae60'; // ë…¹ìƒ‰ (ì•ˆì „)
                    }
                }
                
                // ìƒíƒœë³„ ìƒ‰ìƒ (ê·¸ë¼ë°ì´ì…˜ ê¸°ë°˜)
                let statusColor = '';
                switch(statusText) {
                    case 'í™•ì •':
                        statusColor = '#2ecc71'; // ë°ì€ ë…¹ìƒ‰
                        break;
                    case 'ë§¤ìš° ìœ ë ¥':
                        statusColor = '#27ae60'; // ë…¹ìƒ‰
                        break;
                    case 'ìœ ë ¥':
                        statusColor = '#f39c12'; // ì£¼í™©ìƒ‰
                        break;
                    case 'ê²½í•©':
                        statusColor = '#e67e22'; // ì§„í•œ ì£¼í™©ìƒ‰
                        break;
                    case 'ì–´ë ¤ì›€':
                        statusColor = '#e74c3c'; // ë¹¨ê°„ìƒ‰
                        break;
                    case 'ë§¤ìš° ì–´ë ¤ì›€':
                        statusColor = '#c0392b'; // ì§„í•œ ë¹¨ê°„ìƒ‰
                        break;
                    case 'ë¶ˆê°€ëŠ¥':
                        statusColor = '#95a5a6'; // íšŒìƒ‰
                        break;
                    default:
                        statusColor = '#95a5a6'; // íšŒìƒ‰
                }
                
                // í•„ìš” ìŠ¹ë¥  ìƒ‰ìƒ (ê·¸ë¼ë°ì´ì…˜ êµ¬ë¶„)
                let requiredWinPctColor = '#666';
                if (team.requiredWinRate > 0) {
                    if (team.requiredWinRate <= 0.3) {
                        requiredWinPctColor = '#2ecc71'; // ë°ì€ ë…¹ìƒ‰ (ë§¤ìš° ì‰¬ì›€)
                    } else if (team.requiredWinRate <= 0.5) {
                        requiredWinPctColor = '#f39c12'; // ì£¼í™©ìƒ‰ (ë³´í†µ)
                    } else if (team.requiredWinRate <= 0.7) {
                        requiredWinPctColor = '#e67e22'; // ì§„í•œ ì£¼í™©ìƒ‰ (ì–´ë ¤ì›€)
                    } else if (team.requiredWinRate <= 0.85) {
                        requiredWinPctColor = '#e74c3c'; // ë¹¨ê°„ìƒ‰ (ë§¤ìš° ì–´ë ¤ì›€)
                    } else {
                        requiredWinPctColor = '#c0392b'; // ì§„í•œ ë¹¨ê°„ìƒ‰ (ê±°ì˜ ë¶ˆê°€ëŠ¥)
                    }
                }

                const row = document.createElement('tr');
                row.style.borderLeft = `4px solid ${teamData.color}`;
                
                // TOP 5 íŒ€ë§Œ ìƒ‰ìƒ êµ¬ë¶„
                let rankClass = '';
                if (team.rank <= 5) {
                    if (team.rank === 1) rankClass = 'rank-1';
                    else if (team.rank === 2) rankClass = 'rank-2';
                    else if (team.rank === 3) rankClass = 'rank-3';
                    else if (team.rank >= 4 && team.rank <= 5) rankClass = 'playoff';
                }
                row.className = rankClass;
                
                // íŒ€ëª…ì— ë¡œê³  ì¶”ê°€
                const teamNameWithLogo = Utils.getTeamNameWithLogo(team);
                
                row.innerHTML = `
                    <td style="color: ${teamData.color}; font-weight: 700;">${team.rank}</td>
                    <td>${teamNameWithLogo}</td>
                    <td>${team.wins}</td>
                    <td>${remainingGames}</td>
                    <td>${maxPossibleWins}</td>
                    <td style="color: ${magicColor}; font-weight: 700; font-size: 1.05rem;">${magicDisplay}</td>
                    <td style="color: ${tragicColor}; font-weight: 700; font-size: 1.05rem;">${tragicDisplay}</td>
                    <td style="color: ${requiredWinPctColor}; font-weight: 600;">${requiredWinPct}</td>
                    <td style="color: ${statusColor}; font-weight: 600;">${statusText}</td>
                `;
                tbody.appendChild(row);
            });
            } catch (error) {
                handleError(error, 'í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ì¡°ê±´ ë Œë”ë§ ì‹¤íŒ¨');
                const tbody = document.querySelector('#playoff-table tbody');
                if (tbody) {
                    tbody.innerHTML = '<tr><td colspan="9" style="text-align: center; color: #999; padding: 20px;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</td></tr>';
                }
            }
        }


        function determineCellData(team, rankPosition, championshipMagic, playoffMagic, tragicNumber, teamIndex) {
            // ë‚˜ë¬´ìœ„í‚¤ ìŠ¤íƒ€ì¼ ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ ìƒ‰ìƒ ê²°ì • ë¡œì§
            const currentRank = teamIndex + 1; // 1-based rank
            
            // 1ìœ„ ì—´: ìš°ìŠ¹ ë§¤ì§ë„˜ë²„
            if (rankPosition === 1) {
                if (championshipMagic > 0 && championshipMagic <= 50) {
                    // í™•ì • ìƒí™© ì²´í¬
                    if (championshipMagic === 0 || (currentRank === 1 && championshipMagic <= 3)) {
                        return { display: 'ìš°ìŠ¹í™•ì •', cssClass: 'namu-clinched-blue' };
                    }
                    
                    // ë‚˜ë¬´ìœ„í‚¤ ìŠ¤íƒ€ì¼ ìƒ‰ìƒ ê²°ì •
                    const cssClass = getColorByNamuWikiLogic(currentRank, rankPosition, championshipMagic);
                    return { display: championshipMagic.toString(), cssClass: cssClass };
                }
                return { display: '', cssClass: '' };
            }
            
            // 2-5ìœ„ ì—´: í•´ë‹¹ ìˆœìœ„ ë‹¬ì„± ë§¤ì§ë„˜ë²„
            if (rankPosition >= 2 && rankPosition <= 5) {
                const targetMagic = calculateRankMagic(team, currentStandings, rankPosition - 1);
                if (targetMagic > 0 && targetMagic <= 50) {
                    // í™•ì • ìƒí™© ì²´í¬
                    if (targetMagic === 0 || (currentRank <= rankPosition && targetMagic <= 3)) {
                        const confirmText = rankPosition === 2 ? '2ìœ„í™•ì •' : 
                                          rankPosition === 3 ? '3ìœ„í™•ì •' : 
                                          rankPosition === 4 ? '4ìœ„í™•ì •' : '5ìœ„í™•ì •';
                        return { display: confirmText, cssClass: 'namu-clinched-blue' };
                    }
                    
                    // ë‚˜ë¬´ìœ„í‚¤ ìŠ¤íƒ€ì¼ ìƒ‰ìƒ ê²°ì •
                    const cssClass = getColorByNamuWikiLogic(currentRank, rankPosition, targetMagic);
                    return { display: targetMagic.toString(), cssClass: cssClass };
                }
            }
            
            // 6-9ìœ„ ì—´: í•´ë‹¹ ìˆœìœ„ê¹Œì§€ ë–¨ì–´ì§ˆ íŠ¸ë˜ì§ë„˜ë²„
            if (rankPosition >= 6 && rankPosition <= 9) {
                const dropMagic = calculateDropRankMagic(team, currentStandings, rankPosition - 1);
                if (dropMagic > 0 && dropMagic <= 50) {
                    // íƒˆë½ í™•ì • ìƒí™© ì²´í¬
                    if (dropMagic === 0 || (currentRank >= rankPosition && dropMagic <= 3)) {
                        return { display: 'íƒˆë½í™•ì •', cssClass: 'namu-eliminated' };
                    }
                    
                    // ë‚˜ë¬´ìœ„í‚¤ ìŠ¤íƒ€ì¼ ìƒ‰ìƒ ê²°ì •
                    const cssClass = getColorByNamuWikiLogic(currentRank, rankPosition, dropMagic);
                    return { display: dropMagic.toString(), cssClass: cssClass };
                }
            }

            // ë¹ˆ ì…€ (ìµœì†Œí™”)
            return { display: '', cssClass: '' };
        }

        // ë‚˜ë¬´ìœ„í‚¤ ìŠ¤íƒ€ì¼ ìƒ‰ìƒ ê²°ì • ë¡œì§
        function getColorByNamuWikiLogic(currentRank, targetRank, magicNumber) {
            // 40 ì´ìƒì´ë©´ ëŒ€ë¶€ë¶„ ê²½í•©(ë…¸ë€ìƒ‰)
            if (magicNumber >= 40) {
                return 'namu-competitive';
            }
            
            // í˜„ì¬ ìˆœìœ„ì™€ ëª©í‘œ ìˆœìœ„ ë¹„êµ
            if (currentRank >= targetRank) {
                // í˜„ì¬ ìˆœìœ„ >= ëª©í‘œ ìˆœìœ„: ë§¤ì§ë„˜ë²„ ê°€ëŠ¥ì„± (ì´ˆë¡ìƒ‰)
                // ë‹¨, ë§¤ì§ë„˜ë²„ê°€ ë„ˆë¬´ í¬ë©´ ê²½í•©(ë…¸ë€ìƒ‰)
                if (magicNumber >= 25) {
                    return 'namu-competitive';
                } else {
                    return 'namu-magic';
                }
            } else {
                // í˜„ì¬ ìˆœìœ„ < ëª©í‘œ ìˆœìœ„: íŠ¸ë˜ì§ë„˜ë²„ ê°€ëŠ¥ì„± (ë¹¨ê°„ìƒ‰)
                // ë‹¨, ë§¤ì§ë„˜ë²„ê°€ í¬ë©´ ê²½í•©(ë…¸ë€ìƒ‰)ìœ¼ë¡œ ì™„í™”
                if (magicNumber >= 30) {
                    return 'namu-competitive';
                } else {
                    return 'namu-tragic';
                }
            }
        }

        // íŠ¹ì • ìˆœìœ„ ë„ë‹¬ì„ ìœ„í•œ ë§¤ì§ë„˜ë²„ ê³„ì‚°
        function calculateRankMagic(team, standings, targetRank) {
            const totalGames = 144;
            const remainingGames = totalGames - team.games;
            
            if (targetRank >= 0 && targetRank < standings.length) {
                const targetTeam = standings[targetRank];
                const targetMaxWins = targetTeam.wins + (totalGames - targetTeam.games);
                const magicNumber = Math.max(0, targetMaxWins - team.wins + 1);
                
                // ì´ë¯¸ ëª©í‘œ ë‹¬ì„±í–ˆê±°ë‚˜ ë¶ˆê°€ëŠ¥í•œ ê²½ìš° ì²˜ë¦¬
                if (team.wins > targetMaxWins) return 0;
                if (team.wins + remainingGames < targetTeam.wins) return 999;
                
                return Math.min(magicNumber, remainingGames);
            }
            return 0;
        }

        // í˜„ì¬ ìˆœìœ„ ìœ ì§€ë¥¼ ìœ„í•œ ë§¤ì§ë„˜ë²„ ê³„ì‚°  
        function calculateMaintainRankMagic(team, standings, currentIndex) {
            const totalGames = 144;
            
            if (currentIndex + 1 < standings.length) {
                const nextTeam = standings[currentIndex + 1];
                const nextMaxWins = nextTeam.wins + (totalGames - nextTeam.games);
                return Math.max(0, nextMaxWins - team.wins + 1);
            }
            return 0;
        }

        // íŠ¹ì • ìˆœìœ„ë¡œ ë–¨ì–´ì§ˆ ìœ„í—˜ì„ ë‚˜íƒ€ë‚´ëŠ” íŠ¸ë˜ì§ë„˜ë²„ ê³„ì‚°
        function calculateDropRankMagic(team, standings, dropToRank) {
            const totalGames = 144;
            const remainingGames = totalGames - team.games;
            
            if (dropToRank >= 0 && dropToRank < standings.length) {
                const dropToTeam = standings[dropToRank];
                const dropToMaxWins = dropToTeam.wins + (totalGames - dropToTeam.games);
                
                // ìš°ë¦¬ê°€ ëª¨ë“  ê²½ê¸°ë¥¼ ì ¸ë„ í•´ë‹¹ ìˆœìœ„ë¡œ ë–¨ì–´ì§€ì§€ ì•Šìœ¼ë©´
                if (team.wins > dropToMaxWins) return 999;
                
                // í•´ë‹¹ ìˆœìœ„ê¹Œì§€ ë–¨ì–´ì§€ë ¤ë©´ ëª‡ ê²½ê¸°ë¥¼ ë” ì ¸ì•¼ í•˜ëŠ”ê°€
                const magicNumber = Math.max(0, dropToMaxWins - team.wins + 1);
                return Math.min(magicNumber, remainingGames);
            }
            return 0;
        }

        function calculateChampionshipMagic(team, rankings, index) {
            const totalGames = 144;
            const remainingGames = totalGames - team.games;
            
            if (index === 0) {
                // í˜„ì¬ 1ìœ„ - ìš°ìŠ¹ í™•ì •ê¹Œì§€
                const secondPlace = rankings[1];
                if (!secondPlace) return 0;
                const secondMaxWins = secondPlace.wins + (totalGames - secondPlace.games);
                return Math.max(0, secondMaxWins - team.wins + 1);
            } else {
                // 1ìœ„ê°€ ì•„ë‹˜ - 1ìœ„ ì¶”ì›”ê¹Œì§€
                const firstPlace = rankings[0];
                const maxPossibleWins = team.wins + remainingGames;
                if (maxPossibleWins <= firstPlace.wins) return 999;
                return Math.max(0, firstPlace.wins - team.wins + 1);
            }
        }

        function calculatePlayoffMagic(team, rankings, index) {
            const totalGames = 144;
            const playoffSpots = 5;
            const remainingGames = totalGames - team.games;
            
            if (index < playoffSpots) {
                // í˜„ì¬ í”Œë ˆì´ì˜¤í”„ ê¶Œ ë‚´
                const sixthPlace = rankings[playoffSpots];
                if (!sixthPlace) return 0;
                const sixthMaxWins = sixthPlace.wins + (totalGames - sixthPlace.games);
                return Math.max(0, sixthMaxWins - team.wins + 1);
            } else {
                // í”Œë ˆì´ì˜¤í”„ ê¶Œ ë°–
                const fifthPlace = rankings[playoffSpots - 1];
                const maxPossibleWins = team.wins + remainingGames;
                if (maxPossibleWins <= fifthPlace.wins) return 999;
                return Math.max(0, fifthPlace.wins - team.wins + 1);
            }
        }

        function calculateTragicNumber(team, rankings, index) {
            const totalGames = 144;
            const remainingGames = totalGames - team.games;
            const playoffSpots = 5;
            
            if (index < playoffSpots) {
                // í”Œë ˆì´ì˜¤í”„ ê¶Œ ë‚´ - íƒˆë½ê¹Œì§€
                const sixthPlace = rankings[playoffSpots];
                if (!sixthPlace) return 999;
                const minPossibleWins = team.wins;
                const sixthMinWins = sixthPlace.wins;
                if (minPossibleWins > sixthMinWins) return 999;
                return Math.max(0, remainingGames - (team.wins - sixthPlace.wins) + 1);
            } else {
                // í”Œë ˆì´ì˜¤í”„ ê¶Œ ë°–
                const baselineWins = 72; // í”Œë ˆì´ì˜¤í”„ ì§„ì¶œ ê¸°ì¤€ì„ 
                const maxPossibleWins = team.wins + remainingGames;
                if (maxPossibleWins >= baselineWins) {
                    return Math.max(0, maxPossibleWins - baselineWins + 1);
                }
                return 0; // ì´ë¯¸ íƒˆë½
            }
        }

        function determineTeamStatus(team, championshipMagic, playoffMagic, tragicNumber, index) {
            // ìš°ìŠ¹ í™•ì •
            if (championshipMagic === 0 || (index === 0 && championshipMagic <= 3)) {
                return {
                    label: 'ìš°ìŠ¹í™•ì •',
                    backgroundColor: '#2563eb',
                    textColor: '#ffffff'
                };
            }
            
            // í”Œë ˆì´ì˜¤í”„ í™•ì •
            if (playoffMagic === 0 || playoffMagic <= 3) {
                return {
                    label: 'POí™•ì •',
                    backgroundColor: '#2563eb',
                    textColor: '#ffffff'
                };
            }
            
            // ë§¤ì§ë„˜ë²„ (ìœ ë ¥)
            if (playoffMagic <= 10) {
                return {
                    label: 'POìœ ë ¥',
                    backgroundColor: '#16a34a',
                    textColor: '#ffffff'
                };
            }
            
            // ê²½í•©
            if (playoffMagic <= 20 && tragicNumber > 10) {
                return {
                    label: 'ê²½í•©',
                    backgroundColor: '#eab308',
                    textColor: '#000000'
                };
            }
            
            // íƒˆë½ ìœ„í—˜
            if (tragicNumber <= 5) {
                return {
                    label: 'íƒˆë½ìœ„í—˜',
                    backgroundColor: '#dc2626',
                    textColor: '#ffffff'
                };
            }
            
            // íƒˆë½
            if (tragicNumber === 0) {
                return {
                    label: 'íƒˆë½',
                    backgroundColor: '#991b1b',
                    textColor: '#ffffff'
                };
            }
            
            // ê¸°ë³¸ (ê²½í•©)
            return {
                label: 'ê²½í•©',
                backgroundColor: '#eab308',
                textColor: '#000000'
            };
        }

        function renderHeadToHead() {
            const grid = document.getElementById('h2h-grid');
            grid.innerHTML = '';

            // í˜„ì¬ ìˆœìœ„ëŒ€ë¡œ íŒ€ ë°°ì—´ (ë™ì )
            const teamOrder = currentStandings
                .sort((a, b) => a.rank - b.rank)
                .map(team => team.team);

            // Header row
            grid.appendChild(createGridCell('vs', 'vs-header'));
            teamOrder.forEach(team => {
                const teamData = kboTeams[team];
                const cell = createGridCell('', 'vs-header');
                cell.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 3px; justify-content: center;">
                        ${teamData.logo}
                        <span style="color: ${teamData.color}; font-weight: 600;">${team}</span>
                    </div>
                `;
                cell.style.fontWeight = '600';
                grid.appendChild(cell);
            });

            // Data rows
            teamOrder.forEach(homeTeam => {
                const teamData = kboTeams[homeTeam];
                const teamCell = createGridCell('', 'vs-team');
                teamCell.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 3px;">
                        ${teamData.logo}
                        <span style="color: ${teamData.color}; font-weight: 600;">${homeTeam}</span>
                    </div>
                `;
                teamCell.style.color = teamData.color;
                teamCell.style.fontWeight = '600';
                grid.appendChild(teamCell);
                
                teamOrder.forEach(awayTeam => {
                    if (homeTeam === awayTeam) {
                        const cell = createGridCell('', 'vs-record');
                        cell.innerHTML = '<div style="font-size: 1.2rem; color: #666;">â– </div>';
                        cell.style.background = 'white';
                        grid.appendChild(cell);
                    } else {
                        const record = headToHeadData[homeTeam][awayTeam];
                        
                        // ìƒˆë¡œìš´ JSON í˜•ì‹ ì§€ì› (ì „ì²´ ê°ì²´) ë° ê¸°ì¡´ ë¬¸ìì—´ í˜•ì‹ í˜¸í™˜
                        let wins, losses, draws, homeWins, homeLosses, homeDraws, awayWins, awayLosses, awayDraws;
                        
                        if (typeof record === 'string') {
                            // ê¸°ì¡´ ë¬¸ìì—´ í˜•ì‹ ì§€ì› (ë°±ì—…ìš©)
                            [wins, losses, draws] = record.split('-').map(Number);
                            // ì¶”ì •ì¹˜ ì‚¬ìš© (ê¸°ì¡´ ë¡œì§)
                            homeWins = Math.ceil(wins * 0.55);
                            homeLosses = Math.floor(losses * 0.45);
                            homeDraws = Math.floor(draws * 0.5);
                            awayWins = wins - homeWins;
                            awayLosses = losses - homeLosses;
                            awayDraws = draws - homeDraws;
                        } else {
                            // ìƒˆë¡œìš´ ê°ì²´ í˜•ì‹ - ì‹¤ì œ ë°ì´í„° ì‚¬ìš©
                            wins = record.wins || 0;
                            losses = record.losses || 0;
                            draws = record.draws || 0;
                            homeWins = record.homeWins || 0;
                            homeLosses = record.homeLosses || 0;
                            homeDraws = record.homeDraws || 0;
                            awayWins = record.awayWins || 0;
                            awayLosses = record.awayLosses || 0;
                            awayDraws = record.awayDraws || 0;
                        }
                        
                        const totalGames = wins + losses + draws;
                        const winPct = totalGames > 0 ? (wins / (wins + losses)) : 0.5; // ë¬´ìŠ¹ë¶€ ì œì™¸í•œ ìŠ¹ë¥ 
                        const winPctDisplay = totalGames > 0 ? winPct.toFixed(3) : '-';
                        
                        // ìŠ¹ë¥  ê°•ë„ì— ë”°ë¥¸ ê·¸ë¼ë°ì´ì…˜ ìƒ‰ìƒ
                        let backgroundColor;
                        let textColor = '#333'; // ëª¨ë“  ì…€ í†µì¼ëœ í…ìŠ¤íŠ¸ ìƒ‰ìƒ
                        
                        if (winPct === 0.5) {
                            // ì •í™•íˆ 50% ë™ë¥  - í•˜ì–€ìƒ‰ ë°°ê²½
                            backgroundColor = 'white';
                        } else if (winPct > 0.5) {
                            // 50% ì´ìƒ - ìŠ¹ë¥ ì´ ë†’ì„ìˆ˜ë¡ ì§„í•œ ì´ˆë¡ìƒ‰
                            const intensity = (winPct - 0.5) / 0.5; // 0.5-1.0ì„ 0-1ë¡œ ë³€í™˜
                            const opacity = 0.15 + (intensity * 0.75); // 0.15-0.9 ë²”ìœ„ë¡œ í™•ì¥
                            backgroundColor = `rgba(22, 163, 74, ${opacity})`; // ë” ì§„í•œ ì´ˆë¡ìƒ‰ ì‚¬ìš©
                        } else {
                            // 50% ë¯¸ë§Œ - íŒ¨ìœ¨ì´ ë†’ì„ìˆ˜ë¡ ì§„í•œ ë¹¨ê°„ìƒ‰
                            const intensity = (0.5 - winPct) / 0.5; // 0-0.5ë¥¼ 1-0ìœ¼ë¡œ ë³€í™˜
                            const opacity = 0.15 + (intensity * 0.75); // 0.15-0.9 ë²”ìœ„ë¡œ í™•ì¥
                            backgroundColor = `rgba(220, 38, 38, ${opacity})`; // ë” ì§„í•œ ë¹¨ê°„ìƒ‰ ì‚¬ìš©
                        }
                        
                        // ì‹¤ì œ í™ˆ/ì›ì • ì „ì  ì‚¬ìš©
                        const homeRecord = `${homeWins}-${homeLosses}-${homeDraws}`;
                        const awayRecord = `${awayWins}-${awayLosses}-${awayDraws}`;
                        
                        const homeWinRate = homeWins + homeLosses > 0 ? (homeWins / (homeWins + homeLosses)).toFixed(3) : '-';
                        const awayWinRate = awayWins + awayLosses > 0 ? (awayWins / (awayWins + awayLosses)).toFixed(3) : '-';

                        // ì „ì²´ ì „ì  ë¬¸ìì—´ ìƒì„±
                        const totalRecord = `${wins}-${losses}-${draws}`;

                        const cell = createGridCell('', 'vs-record');
                        cell.innerHTML = `
                            <div style="font-size: 0.85rem; line-height: 1.3; text-align: center;">
                                <div style="font-weight: 600; margin-bottom: 2px;">${totalRecord} (${winPctDisplay})</div>
                                <div style="font-size: 0.8rem; color: #555; margin-bottom: 1px;">ğŸ  ${homeRecord} (${homeWinRate})</div>
                                <div style="font-size: 0.8rem; color: #555;">âœˆï¸ ${awayRecord} (${awayWinRate})</div>
                            </div>
                        `;
                        cell.style.background = backgroundColor;
                        cell.style.color = textColor;
                        grid.appendChild(cell);
                    }
                });
            });
        }

        function renderRemainingGames() {
            const grid = document.getElementById('remaining-grid');
            grid.innerHTML = '';

            // í˜„ì¬ ìˆœìœ„ëŒ€ë¡œ íŒ€ ë°°ì—´ (ë™ì )
            const teamOrder = currentStandings
                .sort((a, b) => a.rank - b.rank)
                .map(team => team.team);

            // íŒ€ê°„ ë‚¨ì€ ê²½ê¸°ìˆ˜ ê³„ì‚° í•¨ìˆ˜
            function calculateRemainingGamesBetweenTeams(team1, team2) {
                if (team1 === team2) return '-';
                
                // í˜„ì¬ ìƒëŒ€ì „ì ì—ì„œ ì´ë¯¸ ì¹˜ë¥¸ ê²½ê¸°ìˆ˜ ê³„ì‚°
                const record = headToHeadData[team1][team2];
                let wins, losses, draws;
                
                if (typeof record === 'string') {
                    [wins, losses, draws] = record.split('-').map(Number);
                } else {
                    wins = record.wins || 0;
                    losses = record.losses || 0;
                    draws = record.draws || 0;
                }
                
                const playedGames = wins + losses + draws;
                
                // KBO ì •ê·œì‹œì¦Œì—ì„œ ê° íŒ€ì€ ë‹¤ë¥¸ íŒ€ê³¼ ì´ 16ê²½ê¸°ì”© ì¹˜ë¦„
                const totalGamesPerOpponent = 16;
                const remainingGames = Math.max(0, totalGamesPerOpponent - playedGames);
                
                return remainingGames;
            }

            // Header row
            grid.appendChild(createGridCell('vs', 'vs-header'));
            teamOrder.forEach(team => {
                const teamData = kboTeams[team];
                const cell = createGridCell('', 'vs-header');
                cell.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 3px; justify-content: center;">
                        ${teamData.logo}
                        <span style="color: ${teamData.color}; font-weight: 600;">${team}</span>
                    </div>
                `;
                cell.style.fontWeight = '600';
                grid.appendChild(cell);
            });

            // Data rows
            teamOrder.forEach(homeTeam => {
                const teamData = kboTeams[homeTeam];
                const teamCell = createGridCell('', 'vs-team');
                teamCell.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 3px;">
                        ${teamData.logo}
                        <span style="color: ${teamData.color}; font-weight: 600;">${homeTeam}</span>
                    </div>
                `;
                teamCell.style.color = teamData.color;
                teamCell.style.fontWeight = '600';
                grid.appendChild(teamCell);
                
                teamOrder.forEach(awayTeam => {
                    const remainingGames = calculateRemainingGamesBetweenTeams(homeTeam, awayTeam);
                    
                    let backgroundColor;
                    let textColor = '#333'; // ëª¨ë“  ì…€ í†µì¼ëœ í…ìŠ¤íŠ¸ ìƒ‰ìƒ
                    
                    if (remainingGames === '-') {
                        backgroundColor = 'white';
                        textColor = '#666';
                    } else if (remainingGames === 0) {
                        backgroundColor = 'rgba(156, 163, 175, 0.6)'; // íšŒìƒ‰ - ê²½ê¸° ì¢…ë£Œ
                        textColor = '#666';
                    } else if (remainingGames <= 3) {
                        backgroundColor = 'rgba(249, 115, 22, 0.6)'; // ì£¼í™©ìƒ‰ - ì ì€ ê²½ê¸° ë‚¨ìŒ
                    } else if (remainingGames <= 6) {
                        backgroundColor = 'rgba(234, 179, 8, 0.6)'; // ë…¸ë€ìƒ‰ - ë³´í†µ
                    } else {
                        backgroundColor = 'rgba(34, 197, 94, 0.6)'; // ì´ˆë¡ìƒ‰ - ë§ì€ ê²½ê¸° ë‚¨ìŒ
                    }
                    
                    const cell = createGridCell(remainingGames === '-' ? 'â– ' : remainingGames.toString(), 'vs-record');
                    cell.style.background = backgroundColor;
                    cell.style.color = textColor;
                    cell.style.fontWeight = '600';
                    cell.style.textAlign = 'center';
                    grid.appendChild(cell);
                });
            });
        }

        function createGridCell(text, className) {
            const cell = document.createElement('div');
            cell.textContent = text;
            cell.className = className;
            return cell;
        }

        function adjustTooltipPositions() {
            const tooltips = document.querySelectorAll('.tooltip');
            tooltips.forEach(tooltip => {
                const tooltiptext = tooltip.querySelector('.tooltiptext');
                if (tooltiptext) {
                    const rect = tooltip.getBoundingClientRect();
                    const windowWidth = window.innerWidth;
                    
                    // í…Œì´ë¸” ì…€ì´ë‚˜ ì¹´ë“œ ë‚´ë¶€ì¸ì§€ í™•ì¸
                    const parentCard = tooltip.closest('.card, .table-container');
                    let containerRight = windowWidth;
                    
                    if (parentCard) {
                        const cardRect = parentCard.getBoundingClientRect();
                        containerRight = cardRect.right;
                    }
                    
                    // íˆ´íŒì´ ì»¨í…Œì´ë„ˆ ê²½ê³„ë¥¼ ë„˜ì„ ê²½ìš° ì™¼ìª½ ì •ë ¬
                    if (rect.left + 150 > containerRight - 20) {
                        tooltiptext.classList.add('tooltip-left');
                    } else {
                        tooltiptext.classList.remove('tooltip-left');
                    }
                }
            });
        }

        async function initializeApp() {
            try {
                console.log('ğŸš€ initializeApp ì‹œì‘');
                // 1. ë°ì´í„° ë¡œë”©
                const data = await loadKBOData();
                
                // 1-1. ìƒëŒ€ì „ì  ë°ì´í„° ë¡œë”©
                await loadHeadToHeadData();
                
                // 2. UI ì—…ë°ì´íŠ¸
                try {
                    updateSummaryDashboard();
                } catch (error) {
                    console.error('âŒ ëŒ€ì‹œë³´ë“œ ì—…ë°ì´íŠ¸ ì˜¤ë¥˜:', error);
                }
                
                try {
                    renderStandingsTable();
                } catch (error) {
                    console.error('âŒ ìˆœìœ„í‘œ ë Œë”ë§ ì˜¤ë¥˜:', error);
                }
                
                try {
                    renderChampionshipCondition();
                } catch (error) {
                    console.error('âŒ ìš°ìŠ¹ ì¡°ê±´ ë Œë”ë§ ì˜¤ë¥˜:', error);
                }
                
                try {
                    renderChaseAnalysis();
                } catch (error) {
                    console.error('âŒ 1ìœ„ íƒˆí™˜ ê°€ëŠ¥ì„± ë Œë”ë§ ì˜¤ë¥˜:', error);
                }
                
                try {
                    // ìƒˆë¡œìš´ ë‚˜ë¬´ìœ„í‚¤ ì°¨íŠ¸ëŠ” ìë™ìœ¼ë¡œ ë¡œë“œë©ë‹ˆë‹¤
                    console.log('ğŸ“Š ë‚˜ë¬´ìœ„í‚¤ ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ ì¤€ë¹„ ì¤‘...');
                } catch (error) {
                    console.error('âŒ ë‚˜ë¬´ìœ„í‚¤ ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ ë Œë”ë§ ì˜¤ë¥˜:', error);
                }
                
                try {
                    renderPlayoffCondition();
                } catch (error) {
                    console.error('âŒ í”Œë ˆì´ì˜¤í”„ ì¡°ê±´ ë Œë”ë§ ì˜¤ë¥˜:', error);
                }
                
                try {
                    renderHeadToHead();
                    console.log('âœ… íŒ€ê°„ ìƒëŒ€ì „ì  í˜„ì¬ ìˆœìœ„ëŒ€ë¡œ ì¬ë°°ì¹˜ ì™„ë£Œ');
                } catch (error) {
                    console.error('âŒ íŒ€ê°„ ìƒëŒ€ì „ì  ë Œë”ë§ ì˜¤ë¥˜:', error);
                }
                
                try {
                    renderRemainingGames();
                    console.log('âœ… íŒ€ê°„ ì”ì—¬ ê²½ê¸°ìˆ˜ í˜„ì¬ ìˆœìœ„ëŒ€ë¡œ ì¬ë°°ì¹˜ ì™„ë£Œ');
                } catch (error) {
                    console.error('âŒ ì”ì—¬ ê²½ê¸°ìˆ˜ ë Œë”ë§ ì˜¤ë¥˜:', error);
                }
                
                // 3. UI êµ¬ì„±ìš”ì†Œ ì´ˆê¸°í™”
                try {
                    initializeTooltips();
                } catch (error) {
                    console.error('âŒ íˆ´íŒ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                }
                
                try {
                    initDesktopToggle();
                } catch (error) {
                    console.error('âŒ ë°ìŠ¤í¬í†± í† ê¸€ ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                }
                
                // 4. íˆ´íŒ ìœ„ì¹˜ ì¡°ì •
                setTimeout(adjustTooltipPositions, 100);
                
                // 5. ì°½ í¬ê¸° ë³€ê²½ ì‹œ íˆ´íŒ ìœ„ì¹˜ ì¬ì¡°ì •
                eventManager.add(window, 'resize', () => {
                    setTimeout(adjustTooltipPositions, 100);
                });
                
                // 5. íƒ‘ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ ê¸°ëŠ¥ ì´ˆê¸°í™”
                const scrollToTopButton = document.getElementById('scrollToTop');
                
                if (scrollToTopButton) {
                    const handleScroll = () => {
                        const scrollPosition = window.pageYOffset || document.documentElement.scrollTop;
                        
                        if (scrollPosition > 300) {
                            scrollToTopButton.classList.add('show');
                        } else {
                            scrollToTopButton.classList.remove('show');
                        }
                    };
                    
                    eventManager.add(window, 'scroll', handleScroll);
                    handleScroll();

                    scrollToTopButton.addEventListener('click', () => {
                        window.scrollTo({
                            top: 0,
                            behavior: 'smooth'
                        });
                    });
                }
                
                console.log('âœ… ì•± ì´ˆê¸°í™” ì™„ë£Œ');
                
            } catch (error) {
                handleError(error, 'ì•± ì´ˆê¸°í™” ì‹¤íŒ¨');
            }
        }

        // ì´ˆê¸°í™” (ë¹„ë™ê¸°)
        // ì´ˆê¸°í™” í”Œë˜ê·¸
        let isInitialized = false;
        
        async function runInitialization() {
            if (isInitialized) {
                console.log('âš ï¸ ì´ë¯¸ ì´ˆê¸°í™”ë¨');
                return;
            }
            isInitialized = true;
            console.log('ğŸš€ ì•± ì´ˆê¸°í™” ì‹œì‘...');
            await initializeApp();
        }
        
        // DOMContentLoaded ì´ë²¤íŠ¸
        if (document.readyState === 'loading') {
            eventManager.add(document, 'DOMContentLoaded', runInitialization);
        } else {
            // ì´ë¯¸ DOMì´ ë¡œë“œëœ ê²½ìš°
            runInitialization();
        }

        // íƒ‘ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ ë³„ë„ ì´ˆê¸°í™” (ë” ì•ˆì „í•œ ë°©ë²•)
        setTimeout(() => {
            console.log('íƒ‘ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ ë³„ë„ ì´ˆê¸°í™”');
            const btn = document.getElementById('scrollToTop');
            console.log('ë²„íŠ¼ ìš”ì†Œ:', btn);
            
            if (btn) {
                // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸
                const btnScrollHandler = function() {
                    const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
                    if (scrollTop > 300) {
                        btn.style.opacity = '1';
                        btn.style.visibility = 'visible';
                        btn.style.transform = 'translateY(0)';
                    } else {
                        btn.style.opacity = '0';
                        btn.style.visibility = 'hidden';
                        btn.style.transform = 'translateY(20px)';
                    }
                };
                eventManager.add(window, 'scroll', btnScrollHandler);
                
                // í´ë¦­ ì´ë²¤íŠ¸
                const btnClickHandler = function() {
                    console.log('ë²„íŠ¼ í´ë¦­!');
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                };
                eventManager.add(btn, 'click', btnClickHandler);
                
                console.log('íƒ‘ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸ ë“±ë¡ ì™„ë£Œ');
            } else {
                console.error('ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤!');
            }
        }, 200);

        // KBO ë°ì´í„° ì—…ë°ì´íŠ¸ ì²´í¬ (í•˜ë£¨ 3ë²ˆ: 18ì‹œ, 22ì‹œ, 24ì‹œ)
        function checkForDataUpdate() {
            const now = new Date();
            const currentTime = now.getHours() * 100 + now.getMinutes();
            
            // ì—…ë°ì´íŠ¸ ì‹œê°„: 18:00, 22:00, 00:00 (Â± 5ë¶„ ì˜¤ì°¨ í—ˆìš©)
            const updateTimes = [1800, 2200, 0]; // 18:00, 22:00, 00:00
            const tolerance = 5; // 5ë¶„ ì˜¤ì°¨ í—ˆìš©
            
            for (let updateTime of updateTimes) {
                if (Math.abs(currentTime - updateTime) <= tolerance) {
                    console.log(`ğŸ“Š KBO ë°ì´í„° ì—…ë°ì´íŠ¸ ì‹œê°„ì…ë‹ˆë‹¤. (${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')})`);
                    // ì‹¤ì œ ë°ì´í„° ì—…ë°ì´íŠ¸ëŠ” ì„œë²„ì—ì„œ JSON íŒŒì¼ì„ ì—…ë°ì´íŠ¸í•˜ë©´ ìë™ìœ¼ë¡œ ë°˜ì˜ë¨
                    showNotification('KBO ë°ì´í„°ê°€ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.', 'info', 3000);
                    return true;
                }
            }
            return false;
        }
        
        // 1ì‹œê°„ë§ˆë‹¤ ì—…ë°ì´íŠ¸ ì‹œê°„ ì²´í¬
        setInterval(checkForDataUpdate, 3600000); // 1ì‹œê°„ë§ˆë‹¤ ì²´í¬

        // íˆ´íŒ í´ë¦­ ì´ë²¤íŠ¸ ì´ˆê¸°í™” í•¨ìˆ˜
        function initializeTooltips() {
            const tooltips = document.querySelectorAll('.tooltip');
            
            tooltips.forEach(tooltip => {
                // ì¤‘ë³µ ì´ë²¤íŠ¸ ë°©ì§€
                if (!tooltip.hasAttribute('data-tooltip-initialized')) {
                    tooltip.setAttribute('data-tooltip-initialized', 'true');
                    eventManager.add(tooltip, 'click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        // ë‹¤ë¥¸ ëª¨ë“  íˆ´íŒ ë¹„í™œì„±í™”
                        tooltips.forEach(t => t.classList.remove('active'));
                        
                        // í˜„ì¬ íˆ´íŒ í™œì„±í™”
                        this.classList.add('active');
                    });
                }
            });
            
            // ë‹¤ë¥¸ ê³³ í´ë¦­ì‹œ íˆ´íŒ ë‹«ê¸° (í•œ ë²ˆë§Œ ë“±ë¡)
            if (!document.documentElement.hasAttribute('data-tooltip-global-initialized')) {
                document.documentElement.setAttribute('data-tooltip-global-initialized', 'true');
                eventManager.add(document, 'click', function() {
                    tooltips.forEach(tooltip => tooltip.classList.remove('active'));
                });
            }
        }

        // PC ë²„ì „ ë³´ê¸° ê¸°ëŠ¥
        function initDesktopToggle() {
            try {
                const toggleBtn = document.getElementById('toggle-desktop-view');
                const mobileControls = document.getElementById('mobile-controls');
                
                // ìš”ì†Œê°€ ì—†ìœ¼ë©´ í•¨ìˆ˜ ì¢…ë£Œ
                if (!toggleBtn && !mobileControls) {
                    console.log('ğŸ“± ëª¨ë°”ì¼ ì»¨íŠ¸ë¡¤ ìš”ì†Œë“¤ì´ ì—†ìŠµë‹ˆë‹¤. ê±´ë„ˆëœë‹ˆë‹¤.');
                    return;
                }
                
                // í™”ë©´ í¬ê¸° í™•ì¸ í•¨ìˆ˜
                function isMobileDevice() {
                    return window.innerWidth <= 768;
                }
                
                // ëª¨ë°”ì¼ ì»¨íŠ¸ë¡¤ í‘œì‹œ/ìˆ¨ê¹€
                function updateMobileControlsVisibility() {
                    if (mobileControls) {
                        mobileControls.style.display = isMobileDevice() ? 'block' : 'none';
                    }
                }
            
            // ì´ˆê¸° ì„¤ì •
            updateMobileControlsVisibility();
            
            // í™”ë©´ í¬ê¸° ë³€ê²½ ì‹œ ì—…ë°ì´íŠ¸
            eventManager.add(window, 'resize', updateMobileControlsVisibility);
            
            // ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            if (toggleBtn) {
                toggleBtn.addEventListener('click', function() {
                    const viewportMeta = document.querySelector('meta[name="viewport"]');
                    const isDesktopMode = toggleBtn.textContent.includes('ëª¨ë°”ì¼');
                    
                    if (isDesktopMode) {
                        // ëª¨ë°”ì¼ ë²„ì „ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°
                        viewportMeta.setAttribute('content', 'width=device-width, initial-scale=1.0');
                        toggleBtn.innerHTML = 'ğŸ–¥ï¸ PC ë²„ì „ìœ¼ë¡œ ë³´ê¸°';
                        toggleBtn.nextElementSibling.textContent = 'ë” ì›í™œí•œ ì‚¬ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤';
                    } else {
                        // PC ë²„ì „ìœ¼ë¡œ ì „í™˜
                        viewportMeta.setAttribute('content', 'width=1200, initial-scale=0.5, user-scalable=yes');
                        toggleBtn.innerHTML = 'ğŸ“± ëª¨ë°”ì¼ ë²„ì „ìœ¼ë¡œ ëŒì•„ê°€ê¸°';
                        toggleBtn.nextElementSibling.textContent = 'ì›ë˜ í¬ê¸°ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤';
                    }
                });
                
                // ë²„íŠ¼ hover íš¨ê³¼
                toggleBtn.addEventListener('mouseenter', function() {
                    this.style.background = 'rgba(255,255,255,0.2)';
                    this.style.borderColor = 'rgba(255,255,255,0.4)';
                });
                
                toggleBtn.addEventListener('mouseleave', function() {
                    this.style.background = 'rgba(255,255,255,0.1)';
                    this.style.borderColor = 'rgba(255,255,255,0.2)';
                });
            }
            } catch (error) {
                console.error('âŒ initDesktopToggle ì˜¤ë¥˜:', error);
                // ì´ í•¨ìˆ˜ì˜ ì˜¤ë¥˜ëŠ” ì¹˜ëª…ì ì´ì§€ ì•Šìœ¼ë¯€ë¡œ ê³„ì† ì§„í–‰
            }
        }
        
        // ì´ˆê¸°í™”ëŠ” runInitializationì—ì„œ ì²˜ë¦¬ë¨
        
        // ë„¤ë¹„ê²Œì´ì…˜ í•¨ìˆ˜ë“¤ (CSS scroll-margin-top í™œìš©)
        function scrollToSection(elementId) {
            const element = document.getElementById(elementId);
            if (!element) return;
            
            // CSS scroll-margin-topì„ í™œìš©í•œ ê°„ë‹¨í•œ ìŠ¤í¬ë¡¤
            element.scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
            
            updateActiveNav(elementId);
            
            // ëª¨ë°”ì¼ ë©”ë‰´ ë‹«ê¸°
            const navMenu = document.querySelector('.nav-menu');
            navMenu.classList.remove('active');
        }
        
        function scrollToPlayoff() {
            scrollToSection('playoff');
        }
        
        function scrollToChampionship() {
            scrollToSection('championship');
        }
        
        function scrollToChase() {
            scrollToSection('chase');
        }
        
        function scrollToVsRecords() {
            scrollToSection('vs-records');
        }
        
        function scrollToRemaining() {
            scrollToSection('remaining');
        }

        function scrollToNamuwikiChart() {
            scrollToSection('namuwiki-chart');
        }
        
        // ë‚˜ë¬´ìœ„í‚¤ ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ ì§ì ‘ êµ¬í˜„
        class NamuwikiMagicChart {
            constructor() {
                this.data = null;
                this.tableElement = null;
            }

            async loadData() {
                // ìŠ¤í¬ë¦°ìƒ· ê¸°ë°˜ í•˜ë“œì½”ë”© ë°ì´í„°
                this.data = {
                    "title": "8ì›” 4ì¼ 0ì‹œ (3ì¼ ê²½ê¸° ì¢…ë£Œ)",
                    "teams": [
                        {
                            "name": "í•œí™”",
                            "logo": "images/hanwha.png",
                            "magicNumbers": {
                                "9": { "value": 11, "type": "magic" },
                                "8": { "value": 27, "type": "magic" },
                                "7": { "value": 31, "type": "magic" },
                                "6": { "value": 32, "type": "magic" },
                                "5": { "value": 35, "type": "magic" },
                                "4": { "value": 35, "type": "magic" },
                                "3": { "value": 36, "type": "magic" },
                                "2": { "value": 39, "type": "magic" },
                                "1": { "value": 44, "type": "competitive" }
                            }
                        },
                        {
                            "name": "LG",
                            "logo": "images/lg.png",
                            "magicNumbers": {
                                "9": { "value": 9, "type": "magic" },
                                "8": { "value": 25, "type": "magic" },
                                "7": { "value": 30, "type": "magic" },
                                "6": { "value": 31, "type": "magic" },
                                "5": { "value": 34, "type": "magic" },
                                "4": { "value": 34, "type": "magic" },
                                "3": { "value": 34, "type": "magic" },
                                "2": { "value": 37, "type": "magic" },
                                "1": { "value": 41, "type": "competitive" }
                            }
                        },
                        {
                            "name": "ë¡¯ë°",
                            "logo": "images/lotte.png",
                            "magicNumbers": {
                                "9": { "value": 13, "type": "magic" },
                                "8": { "value": 29, "type": "magic" },
                                "7": { "value": 33, "type": "magic" },
                                "6": { "value": 34, "type": "magic" },
                                "5": { "value": 37, "type": "magic" },
                                "4": { "value": 37, "type": "magic" },
                                "3": { "value": 38, "type": "magic" },
                                "2": { "value": 39, "type": "tragic" },
                                "1": { "value": 37, "type": "tragic" }
                            }
                        },
                        {
                            "name": "SSG",
                            "logo": "images/ssg.png",
                            "magicNumbers": {
                                "9": { "value": 20, "type": "magic" },
                                "8": { "value": 35, "type": "magic" },
                                "7": { "value": 40, "type": "magic" },
                                "6": { "value": 43, "type": "competitive" },
                                "5": { "value": 43, "type": "competitive" },
                                "4": { "value": 43, "type": "competitive" },
                                "3": { "value": 37, "type": "tragic" },
                                "2": { "value": 35, "type": "tragic" },
                                "1": { "value": 33, "type": "tragic" }
                            }
                        },
                        {
                            "name": "KIA",
                            "logo": "images/kia.png",
                            "magicNumbers": {
                                "9": { "value": 22, "type": "magic" },
                                "8": { "value": 37, "type": "magic" },
                                "7": { "value": 42, "type": "magic" },
                                "6": { "value": 45, "type": "competitive" },
                                "5": { "value": 45, "type": "competitive" },
                                "4": { "value": 45, "type": "competitive" },
                                "3": { "value": 37, "type": "tragic" },
                                "2": { "value": 35, "type": "tragic" },
                                "1": { "value": 33, "type": "tragic" }
                            }
                        },
                        {
                            "name": "KT",
                            "logo": "images/kt.png",
                            "magicNumbers": {
                                "9": { "value": 20, "type": "magic" },
                                "8": { "value": 35, "type": "magic" },
                                "7": { "value": 40, "type": "magic" },
                                "6": { "value": 40, "type": "competitive" },
                                "5": { "value": 40, "type": "competitive" },
                                "4": { "value": 40, "type": "competitive" },
                                "3": { "value": 34, "type": "tragic" },
                                "2": { "value": 32, "type": "tragic" },
                                "1": { "value": 30, "type": "tragic" }
                            }
                        },
                        {
                            "name": "NC",
                            "logo": "images/nc.png",
                            "magicNumbers": {
                                "9": { "value": 23, "type": "magic" },
                                "8": { "value": 38, "type": "magic" },
                                "7": { "value": 46, "type": "competitive" },
                                "6": { "value": 46, "type": "competitive" },
                                "5": { "value": 46, "type": "competitive" },
                                "4": { "value": 46, "type": "competitive" },
                                "3": { "value": 37, "type": "tragic" },
                                "2": { "value": 35, "type": "tragic" },
                                "1": { "value": 33, "type": "tragic" }
                            }
                        },
                        {
                            "name": "ì‚¼ì„±",
                            "logo": "images/samsung.png",
                            "magicNumbers": {
                                "9": { "value": 23, "type": "magic" },
                                "8": { "value": 39, "type": "magic" },
                                "7": { "value": 43, "type": "competitive" },
                                "6": { "value": 42, "type": "tragic" },
                                "5": { "value": 40, "type": "tragic" },
                                "4": { "value": 40, "type": "tragic" },
                                "3": { "value": 34, "type": "tragic" },
                                "2": { "value": 32, "type": "tragic" },
                                "1": { "value": 30, "type": "tragic" }
                            }
                        },
                        {
                            "name": "ë‘ì‚°",
                            "logo": "images/doosan.png",
                            "magicNumbers": {
                                "9": { "value": 27, "type": "magic" },
                                "8": { "value": 38, "type": "tragic" },
                                "7": { "value": 38, "type": "tragic" },
                                "6": { "value": 37, "type": "tragic" },
                                "5": { "value": 35, "type": "tragic" },
                                "4": { "value": 35, "type": "tragic" },
                                "3": { "value": 28, "type": "tragic" },
                                "2": { "value": 26, "type": "tragic" },
                                "1": { "value": 25, "type": "tragic" }
                            }
                        },
                        {
                            "name": "í‚¤ì›€",
                            "logo": "images/kiwoom.png",
                            "magicNumbers": {
                                "9": { "value": 27, "type": "tragic" },
                                "8": { "value": 23, "type": "tragic" },
                                "7": { "value": 23, "type": "tragic" },
                                "6": { "value": 22, "type": "tragic" },
                                "5": { "value": 20, "type": "tragic" },
                                "4": { "value": 20, "type": "tragic" },
                                "3": { "value": 13, "type": "tragic" },
                                "2": { "value": 11, "type": "tragic" },
                                "1": { "value": 9, "type": "tragic" }
                            }
                        }
                    ]
                };
                return true;
            }

            async render(containerId = 'namuwiki-magic-table') {
                try {
                    await this.loadData();
                    
                    this.tableElement = document.getElementById(containerId);
                    if (!this.tableElement) {
                        console.error(`âŒ ì»¨í…Œì´ë„ˆ ${containerId}ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤`);
                        return;
                    }

                    this.renderTable();
                    console.log('âœ… ë‚˜ë¬´ìœ„í‚¤ ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ ë Œë”ë§ ì™„ë£Œ');
                } catch (error) {
                    console.error('âŒ ë Œë”ë§ ì‹¤íŒ¨:', error);
                }
            }

            renderTable() {
                this.tableElement.innerHTML = '';
                
                const thead = this.createHeader();
                this.tableElement.appendChild(thead);
                
                const tbody = this.createBody();
                this.tableElement.appendChild(tbody);
            }

            createHeader() {
                const thead = document.createElement('thead');
                
                // ì²« ë²ˆì§¸ í–‰
                const headerRow = document.createElement('tr');
                
                // ìˆœìœ„ í—¤ë” (rowspanìœ¼ë¡œ ë‘ í–‰ì— ê±¸ì³ í‘œì‹œ)
                const rankHeader = document.createElement('th');
                rankHeader.innerHTML = `
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 4px;">
                        <span style="font-size: 0.9rem; font-weight: 600; color: white;">ìˆœìœ„</span>
                    </div>
                `;
                rankHeader.style.width = '60px';
                rankHeader.style.textAlign = 'center';
                rankHeader.style.verticalAlign = 'middle';
                rankHeader.style.background = 'var(--primary-color)';
                rankHeader.style.color = 'white';
                rankHeader.style.padding = '12px 8px';
                rankHeader.rowSpan = 2;
                headerRow.appendChild(rankHeader);

                // êµ¬ë‹¨ í—¤ë” (rowspanìœ¼ë¡œ ë‘ í–‰ì— ê±¸ì³ í‘œì‹œ)
                const teamHeader = document.createElement('th');
                teamHeader.innerHTML = `
                    <div style="display: flex; flex-direction: column; align-items: center; gap: 4px;">
                        <span style="font-size: 0.9rem; font-weight: 600; color: white;">êµ¬ë‹¨ëª…</span>
                    </div>
                `;
                teamHeader.style.width = '120px';
                teamHeader.style.textAlign = 'center';
                teamHeader.style.verticalAlign = 'middle';
                teamHeader.style.background = 'var(--primary-color)';
                teamHeader.style.color = 'white';
                teamHeader.style.padding = '12px 8px';
                teamHeader.rowSpan = 2;
                headerRow.appendChild(teamHeader);

                // ì²« ë²ˆì§¸ í–‰: "ë„ë‹¬ ìˆœìœ„" ë¼ë²¨
                const rankLabelHeader = document.createElement('th');
                rankLabelHeader.innerHTML = '<span style="font-size: 0.85rem; font-weight: 500;">ë„ë‹¬ ìˆœìœ„</span>';
                rankLabelHeader.colSpan = 9;
                rankLabelHeader.style.textAlign = 'center';
                rankLabelHeader.style.background = 'var(--secondary-color)';
                rankLabelHeader.style.color = 'white';
                headerRow.appendChild(rankLabelHeader);
                
                thead.appendChild(headerRow);
                
                // ë‘ ë²ˆì§¸ í–‰: ì‹¤ì œ ìˆœìœ„ ë²ˆí˜¸ë“¤ (9ìœ„ë¶€í„° 1ìœ„ê¹Œì§€)
                const rankNumberRow = document.createElement('tr');
                for (let i = 9; i >= 1; i--) {
                    const th = document.createElement('th');
                    th.textContent = i + 'ìœ„';
                    th.style.width = 'auto'; // ìë™ ê· ë“± ë¶„ë°°
                    th.style.textAlign = 'center';
                    
                    // KBO í”Œë ˆì´ì˜¤í”„ ê¸°ì¤€ ìƒ‰ìƒ ì ìš© (ë‹¤ë¥¸ í…Œì´ë¸”ê³¼ ì¼ì¹˜)
                    let headerBgColor = '#6b7280'; // 6ìœ„ ì´í•˜ íšŒìƒ‰ (íƒˆë½)
                    if (i === 1) {
                        headerBgColor = '#ffd700'; // 1ìœ„ ê³¨ë“œ (ì •ê·œì‹œì¦Œ ìš°ìŠ¹)
                    } else if (i === 2) {
                        headerBgColor = '#c0c0c0'; // 2ìœ„ ì‹¤ë²„ (í”Œë ˆì´ì˜¤í”„ ì§í–‰)
                    } else if (i === 3) {
                        headerBgColor = '#cd7f32'; // 3ìœ„ ë¸Œë¡ ì¦ˆ (ì¤€í”Œë ˆì´ì˜¤í”„ ì§í–‰)
                    } else if (i >= 4 && i <= 5) {
                        headerBgColor = '#1a237e'; // 4-5ìœ„ íŒŒë€ìƒ‰ (ì™€ì¼ë“œì¹´ë“œ)
                    }
                    
                    th.style.background = headerBgColor;
                    // ê³¨ë“œ, ì‹¤ë²„ëŠ” ê²€ì€ìƒ‰ í…ìŠ¤íŠ¸, ë‚˜ë¨¸ì§€ëŠ” í°ìƒ‰ í…ìŠ¤íŠ¸
                    th.style.color = (i === 1 || i === 2) ? 'black' : 'white';
                    th.style.fontWeight = '600';
                    th.style.borderRadius = '0';
                    rankNumberRow.appendChild(th);
                }
                
                thead.appendChild(rankNumberRow);
                return thead;

            }

            createBody() {
                const tbody = document.createElement('tbody');
                
                this.data.teams.forEach(team => {
                    const row = this.createTeamRow(team);
                    tbody.appendChild(row);
                });
                
                return tbody;
            }

            createTeamRow(team) {
                const row = document.createElement('tr');
                
                const teamCell = document.createElement('td');
                
                // ë™ì  ìˆœìœ„ ê³„ì‚° (ì‹¤ì œ ë°ì´í„° ê¸°ë°˜)
                const currentRank = this.data.teams.findIndex(t => t.name === team.name) + 1;
                
                // íŒ€ ì •ë³´ ë§¤í•‘ (í’€ë„¤ì„ë§Œ ê³ ì •, ìˆœìœ„ëŠ” ë™ì )
                const teamFullNames = {
                    'í•œí™”': { full: 'í•œí™” ì´ê¸€ìŠ¤', short: 'í•œí™”' },
                    'LG': { full: 'LG íŠ¸ìœˆìŠ¤', short: 'LG' },
                    'ë¡¯ë°': { full: 'ë¡¯ë° ìì´ì–¸ì¸ ', short: 'ë¡¯ë°' },
                    'SSG': { full: 'SSG ëœë”ìŠ¤', short: 'SSG' },
                    'KIA': { full: 'KIA íƒ€ì´ê±°ì¦ˆ', short: 'KIA' },
                    'KT': { full: 'KT ìœ„ì¦ˆ', short: 'KT' },
                    'NC': { full: 'NC ë‹¤ì´ë…¸ìŠ¤', short: 'NC' },
                    'ì‚¼ì„±': { full: 'ì‚¼ì„± ë¼ì´ì˜¨ì¦ˆ', short: 'ì‚¼ì„±' },
                    'ë‘ì‚°': { full: 'ë‘ì‚° ë² ì–´ìŠ¤', short: 'ë‘ì‚°' },
                    'í‚¤ì›€': { full: 'í‚¤ì›€ íˆì–´ë¡œì¦ˆ', short: 'í‚¤ì›€' }
                };
                
                const teamInfo = teamFullNames[team.name] || { full: team.name, short: team.name };
                teamInfo.rank = currentRank; // ì‹¤ì œ ìˆœìœ„ í• ë‹¹
                
                // KBO í”Œë ˆì´ì˜¤í”„ ê¸°ì¤€ ë°°ì§€ ìƒ‰ìƒ ì„¤ì • (í—¤ë”ì™€ ì¼ì¹˜)
                let rankBadgeColor = '#6b7280'; // 6ìœ„ ì´í•˜ íšŒìƒ‰ (íƒˆë½)
                if (currentRank === 1) {
                    rankBadgeColor = '#ffd700'; // 1ìœ„ ê³¨ë“œ (ì •ê·œì‹œì¦Œ ìš°ìŠ¹)
                } else if (currentRank === 2) {
                    rankBadgeColor = '#c0c0c0'; // 2ìœ„ ì‹¤ë²„ (í”Œë ˆì´ì˜¤í”„ ì§í–‰)
                } else if (currentRank === 3) {
                    rankBadgeColor = '#cd7f32'; // 3ìœ„ ë¸Œë¡ ì¦ˆ (ì¤€í”Œë ˆì´ì˜¤í”„ ì§í–‰)
                } else if (currentRank >= 4 && currentRank <= 5) {
                    rankBadgeColor = '#1a237e'; // 4-5ìœ„ íŒŒë€ìƒ‰ (ì™€ì¼ë“œì¹´ë“œ)
                }
                
                // ìˆœìœ„ ì…€ ìƒì„±
                const rankCell = document.createElement('td');
                // ë°°ì§€ í…ìŠ¤íŠ¸ ìƒ‰ìƒ ê²°ì • (ê³¨ë“œ, ì‹¤ë²„ëŠ” ê²€ì€ìƒ‰, ë‚˜ë¨¸ì§€ëŠ” í°ìƒ‰)
                const badgeTextColor = (currentRank === 1 || currentRank === 2) ? 'black' : 'white';
                
                rankCell.innerHTML = `
                    <span style="font-size: 0.85rem; font-weight: 700; color: ${badgeTextColor}; width: 28px; height: 28px; background: ${rankBadgeColor}; border-radius: 6px; display: flex; align-items: center; justify-content: center; box-shadow: 0 1px 3px rgba(0,0,0,0.2); margin: 0 auto;">${teamInfo.rank}</span>
                `;
                rankCell.style.cssText = `
                    width: 60px !important;
                    min-width: 60px !important;
                    max-width: 60px !important;
                    padding: 8px !important;
                    background: white !important;
                    text-align: center !important;
                    vertical-align: middle !important;
                `;
                row.appendChild(rankCell);

                // íŒ€ëª… ì…€ ìƒì„±
                teamCell.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; gap: 6px;">
                        <img src="${team.logo}" alt="${teamInfo.short}" style="height: 20px; width: auto;">
                        <span style="font-size: 0.85rem; font-weight: 600;">${teamInfo.short}</span>
                    </div>
                `;
                teamCell.className = 'team-cell';
                teamCell.style.cssText = `
                    width: 120px !important;
                    min-width: 120px !important;
                    max-width: 120px !important;
                    padding: 8px !important;
                    background: white !important;
                    text-align: center !important;
                    white-space: nowrap !important;
                    overflow: hidden !important;
                `;
                row.appendChild(teamCell);

                for (let rank = 9; rank >= 1; rank--) {
                    const magicCell = this.createMagicCell(team, rank);
                    row.appendChild(magicCell);
                }
                
                return row;
            }

            createMagicCell(team, rank) {
                const cell = document.createElement('td');
                const rankStr = rank.toString();
                const magicData = team.magicNumbers[rankStr];
                
                if (magicData) {
                    const colors = this.getColorByType(magicData.type);
                    
                    // íˆ´íŒ ì •ë³´ ìƒì„±
                    const tooltipText = this.getTooltipText(magicData.type, magicData.value, rank);
                    
                    cell.innerHTML = `
                        <div style="position: relative; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; min-height: 45px;">
                            <span style="font-size: 16px; font-weight: 700; line-height: 1;">${magicData.value}</span>
                            <span style="font-size: 10px; opacity: 0.8; font-weight: 500; margin-top: 2px;">${this.getTypeLabel(magicData.type)}</span>
                        </div>
                    `;
                    
                    cell.style.cssText = `
                        background: linear-gradient(135deg, ${colors.bg} 0%, ${colors.bgSecondary || colors.bg} 100%);
                        color: ${colors.text};
                        padding: 8px 6px;
                        font-size: 14px;
                        font-weight: bold;
                        text-align: center;
                        border: none;
                        min-width: 70px;
                        cursor: pointer;
                        transition: all 0.2s ease;
                        position: relative;
                        box-shadow: 0 1px 3px rgba(0,0,0,0.08);
                    `;
                    
                    // í˜¸ë²„ íš¨ê³¼ ì¶”ê°€
                    cell.addEventListener('mouseenter', function() {
                        this.style.transform = 'scale(1.05)';
                        this.style.boxShadow = '0 4px 8px rgba(0,0,0,0.15)';
                        this.style.zIndex = '15';
                    });
                    
                    cell.addEventListener('mouseleave', function() {
                        this.style.transform = 'scale(1)';
                        this.style.boxShadow = '0 1px 3px rgba(0,0,0,0.08)';
                        this.style.zIndex = '1';
                    });
                    
                    // íˆ´íŒ ì„¤ì •
                    cell.title = tooltipText;
                    
                } else {
                    cell.style.cssText = `
                        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
                        padding: 8px 6px;
                        font-size: 14px;
                        text-align: center;
                        border: none;
                        min-width: 70px;
                        color: #9ca3af;
                        font-style: italic;
                    `;
                    cell.textContent = '-';
                }
                
                return cell;
            }

            getColorByType(type) {
                const colorMap = {
                    'magic': { 
                        bg: '#7dd87d', 
                        bgSecondary: '#68d391',
                        text: '#1a365d', 
                        border: '#38a169'
                    },
                    'competitive': { 
                        bg: '#ffff7d', 
                        bgSecondary: '#f6e05e',
                        text: '#744210', 
                        border: '#d69e2e'
                    },
                    'tragic': { 
                        bg: '#ff7d7d', 
                        bgSecondary: '#fc8181',
                        text: '#742a2a', 
                        border: '#e53e3e'
                    },
                    'clinched': { 
                        bg: '#4169e1', 
                        bgSecondary: '#3182ce',
                        text: 'white', 
                        border: '#2c5aa0'
                    },
                    'eliminated': { 
                        bg: '#808080', 
                        bgSecondary: '#6b7280',
                        text: 'white', 
                        border: '#4b5563'
                    }
                };
                
                return colorMap[type] || { bg: '#f8f9fa', bgSecondary: '#e9ecef', text: '#6c757d', border: '#dee2e6' };
            }
            
            getTypeLabel(type) {
                const labelMap = {
                    'magic': 'M',
                    'competitive': 'C', 
                    'tragic': 'T',
                    'clinched': 'í™•ì •',
                    'eliminated': 'íƒˆë½'
                };
                return labelMap[type] || '';
            }
            
            getTooltipText(type, value, rank) {
                const typeNames = {
                    'magic': 'ë§¤ì§ë„˜ë²„',
                    'competitive': 'ê²½í•©ìƒí™©',
                    'tragic': 'íŠ¸ë˜ì§ë„˜ë²„',
                    'clinched': 'ìˆœìœ„í™•ì •',
                    'eliminated': 'íƒˆë½í™•ì •'
                };
                
                const typeName = typeNames[type] || 'ì•Œ ìˆ˜ ì—†ìŒ';
                
                if (type === 'magic') {
                    return `${rank}ìœ„ ë‹¬ì„±ê¹Œì§€ ${value}ìŠ¹ í•„ìš” (${typeName})`;
                } else if (type === 'tragic') {
                    return `${rank}ìœ„ íƒˆë½ê¹Œì§€ ${value}íŒ¨ ë‚¨ìŒ (${typeName})`;
                } else if (type === 'competitive') {
                    return `${rank}ìœ„ ê²½í•© ì¤‘ - ${value}ê²½ê¸° (${typeName})`;
                } else {
                    return `${rank}ìœ„ ${typeName} - ${value}`;
                }
            }
            
        }

        // ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ ìˆ˜ë™ ë Œë”ë§ í…ŒìŠ¤íŠ¸
        setTimeout(() => {
            console.log('ğŸ”§ ìˆ˜ë™ ë Œë”ë§ ì‹œë„');
            if (typeof NamuwikiMagicChart !== 'undefined') {
                const testChart = new NamuwikiMagicChart();
                testChart.render('namuwiki-magic-table').then(() => {
                    console.log('âœ… ìˆ˜ë™ ë Œë”ë§ ì„±ê³µ');
                }).catch(error => {
                    console.error('âŒ ìˆ˜ë™ ë Œë”ë§ ì‹¤íŒ¨:', error);
                });
            } else {
                console.error('âŒ NamuwikiMagicChart í´ë˜ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
            }
        }, 2000);
        
        // í…Œì´ë¸” ë°˜ì‘í˜• ìŠ¤í¬ë¡¤ ê°œì„ 
        function initTableScroll() {
            const tableWrapper = document.querySelector('.magic-table-wrapper');
            const scrollContainer = tableWrapper?.querySelector('div');
            
            if (tableWrapper && scrollContainer) {
                // ìŠ¤í¬ë¡¤ ì»¨í…Œì´ë„ˆ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
                scrollContainer.style.cssText = `
                    overflow-x: auto !important;
                    -webkit-overflow-scrolling: touch !important;
                    width: 100% !important;
                    max-width: 100% !important;
                    display: block !important;
                `;
                
                // ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° ì¶”ê°€
                const scrollIndicator = document.createElement('div');
                scrollIndicator.style.cssText = `
                    position: absolute;
                    bottom: 10px;
                    right: 20px;
                    background: rgba(0,0,0,0.7);
                    color: white;
                    padding: 6px 12px;
                    border-radius: 6px;
                    font-size: 12px;
                    opacity: 0;
                    transition: opacity 0.3s ease;
                    pointer-events: none;
                    z-index: 1000;
                    white-space: nowrap;
                `;
                scrollIndicator.textContent = 'â† ì¢Œìš°ë¡œ ìŠ¤í¬ë¡¤í•˜ì„¸ìš” â†’';
                tableWrapper.style.position = 'relative';
                tableWrapper.appendChild(scrollIndicator);
                
                // ìŠ¤í¬ë¡¤ ê°ì§€
                let scrollTimeout;
                scrollContainer.addEventListener('scroll', function() {
                    scrollIndicator.style.opacity = '1';
                    clearTimeout(scrollTimeout);
                    scrollTimeout = setTimeout(() => {
                        scrollIndicator.style.opacity = '0';
                    }, 2000);
                });
                
                // ì´ˆê¸° í‘œì‹œ (í…Œì´ë¸”ì´ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ê²½ìš°ì—ë§Œ)
                setTimeout(() => {
                    if (scrollContainer.scrollWidth > scrollContainer.clientWidth) {
                        scrollIndicator.style.opacity = '1';
                        setTimeout(() => {
                            scrollIndicator.style.opacity = '0';
                        }, 3000);
                    }
                }, 2000);
            }
        }
        
        // í…Œì´ë¸” ìŠ¤í¬ë¡¤ ì´ˆê¸°í™”
        setTimeout(initTableScroll, 1500);
        
        // í™œì„± ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸
        function updateActiveNav(activeId) {
            document.querySelectorAll('.nav-menu a').forEach(link => {
                link.classList.remove('active');
            });
            
            const activeLink = document.querySelector(`.nav-menu a[href="#${activeId}"]`);
            if (activeLink) {
                activeLink.classList.add('active');
            }
        }
        
        // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
        function toggleMobileMenu() {
            const navMenu = document.querySelector('.nav-menu');
            navMenu.classList.toggle('active');
        }
        
        // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ë¡œ í™œì„± ì„¹ì…˜ ê°ì§€
        window.addEventListener('scroll', function() {
            const sections = ['standings', 'championship', 'chase', 'playoff', 'vs-records', 'remaining'];
            let current = 'standings';
            const navHeight = document.querySelector('.nav-container').offsetHeight;
            
            for (const section of sections) {
                const element = document.getElementById(section);
                if (element) {
                    const rect = element.getBoundingClientRect();
                    if (rect.top <= navHeight + 80 && rect.bottom >= navHeight + 80) {
                        current = section;
                        break;
                    }
                }
            }
            
            updateActiveNav(current);
        });
        
        // ëª¨ë°”ì¼ì—ì„œ ë©”ë‰´ í•­ëª© í´ë¦­ ì‹œ ë©”ë‰´ ë‹«ê¸°
        document.addEventListener('click', function(e) {
            const navMenu = document.querySelector('.nav-menu');
            const navToggle = document.querySelector('.nav-toggle');
            
            if (!navMenu.contains(e.target) && !navToggle.contains(e.target)) {
                navMenu.classList.remove('active');
            }
        });

    </script>

    <!-- ë‚˜ë¬´ìœ„í‚¤ ë§¤ì§ë„˜ë²„ ì°¨íŠ¸ -->
    <script src="namuwiki-magic.js"></script>

    <!-- íƒ‘ìœ¼ë¡œ ê°€ê¸° ë²„íŠ¼ -->
    <button class="scroll-to-top" id="scrollToTop">â†‘</button>
    
</body>
</html><!-- Updated at Tue Aug  5 10:21:58 JST 2025 -->
