<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPB ëŒ€ì‹œë³´ë“œ í…ŒìŠ¤íŠ¸</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #eee;
        }
        
        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        button {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        button:hover {
            background: #2563eb;
        }
        
        button:disabled {
            background: #94a3b8;
            cursor: not-allowed;
        }
        
        .tab-nav {
            display: flex;
            gap: 4px;
            margin-bottom: 20px;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .tab-button {
            background: none;
            color: #6b7280;
            border: none;
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.2s;
        }
        
        .tab-button.active {
            color: #3b82f6;
            border-bottom-color: #3b82f6;
        }
        
        .tab-content {
            display: none;
            min-height: 400px;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .loading-indicator {
            text-align: center;
            padding: 40px;
            color: #6b7280;
        }
        
        .error-message {
            background: #fef2f2;
            color: #dc2626;
            padding: 12px;
            border-radius: 6px;
            margin: 10px 0;
            display: none;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        
        th, td {
            padding: 8px 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        th {
            background: #f9fafb;
            font-weight: 600;
            position: sticky;
            top: 0;
        }
        
        .team-logo {
            width: 20px;
            height: 20px;
            margin-right: 8px;
            vertical-align: middle;
        }
        
        .rank {
            font-weight: 600;
            text-align: center;
        }
        
        .playoff-position {
            background: #ecfdf5;
        }
        
        #initialization-error {
            background: #fef2f2;
            color: #dc2626;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            display: none;
            text-align: center;
        }
        
        #debug-panel {
            position: fixed;
            top: 10px;
            right: 10px;
            background: white;
            border: 1px solid #d1d5db;
            padding: 15px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            max-width: 300px;
            display: none;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŸï¸ NPB ëŒ€ì‹œë³´ë“œ</h1>
            <p>ì¼ë³¸ í”„ë¡œì•¼êµ¬ 2025ì‹œì¦Œ ìˆœìœ„ ë° í†µê³„ ë¶„ì„</p>
            <div class="controls">
                <button id="refresh-button">ìƒˆë¡œê³ ì¹¨</button>
                <button id="theme-toggle">ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ</button>
                <span style="margin-left: auto; color: #6b7280; font-size: 14px;">
                    ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸: <span id="last-update">ë¡œë”© ì¤‘...</span>
                </span>
            </div>
        </div>
        
        <div id="initialization-error">
            <!-- ì´ˆê¸°í™” ì˜¤ë¥˜ ë©”ì‹œì§€ -->
        </div>
        
        <div class="tab-nav">
            <button class="tab-button active" data-tab="standings">ìˆœìœ„í‘œ</button>
            <button class="tab-button" data-tab="pythagorean">í”¼íƒ€ê³ ë¦¬ì•ˆ ë¶„ì„</button>
            <button class="tab-button" data-tab="home-away">í™ˆ/ì›ì • ë¶„ì„</button>
            <button class="tab-button" data-tab="magic-number">ë§¤ì§ë„˜ë²„</button>
        </div>
        
        <div id="standings-tab" class="tab-content active">
            <div id="standings-container">
                <div class="loading-indicator">ìˆœìœ„ ë°ì´í„° ë¡œë”© ì¤‘...</div>
            </div>
        </div>
        
        <div id="pythagorean-tab" class="tab-content">
            <div id="pythagorean-container">
                <div class="loading-indicator">í”¼íƒ€ê³ ë¦¬ì•ˆ ë¶„ì„ ë°ì´í„° ë¡œë”© ì¤‘...</div>
            </div>
        </div>
        
        <div id="home-away-tab" class="tab-content">
            <div id="home-away-container">
                <div class="loading-indicator">í™ˆ/ì›ì • ë¶„ì„ ë°ì´í„° ë¡œë”© ì¤‘...</div>
            </div>
        </div>
        
        <div id="magic-number-tab" class="tab-content">
            <div id="magic-number-container">
                <div class="loading-indicator">ë§¤ì§ë„˜ë²„ ë°ì´í„° ë¡œë”© ì¤‘...</div>
            </div>
        </div>
    </div>
    
    <div id="debug-panel">
        <div id="debug-info">
            <!-- ë””ë²„ê·¸ ì •ë³´ -->
        </div>
    </div>

    <!-- NPB JavaScript ëª¨ë“ˆë“¤ ë¡œë“œ -->
    <!-- í•µì‹¬ ëª¨ë“ˆë“¤ ë¨¼ì € ë¡œë“œ -->
    <script src="js/core/utils.js"></script>
    <script src="js/core/data-manager.js"></script>
    <script src="js/core/api-client.js"></script>
    
    <!-- í…Œì´ë¸” ëª¨ë“ˆë“¤ ë¡œë“œ -->
    <script src="js/tables/standings.js"></script>
    <script src="js/tables/pythagorean.js"></script>
    <script src="js/tables/home-away.js"></script>
    <script src="js/tables/magic-number.js"></script>
    
    <!-- ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜ ë§ˆì§€ë§‰ì— ë¡œë“œ -->
    <script src="js/app.js"></script>
    
    <!-- íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        // íƒ­ ë„¤ë¹„ê²Œì´ì…˜ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetTab = button.dataset.tab;
                    
                    // ëª¨ë“  íƒ­ ë¹„í™œì„±í™”
                    tabButtons.forEach(btn => btn.classList.remove('active'));
                    tabContents.forEach(content => content.classList.remove('active'));
                    
                    // í´ë¦­ëœ íƒ­ í™œì„±í™”
                    button.classList.add('active');
                    document.getElementById(`${targetTab}-tab`).classList.add('active');
                });
            });
            
            // ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„ ì—…ë°ì´íŠ¸
            const updateLastUpdateTime = () => {
                const lastUpdateElement = document.getElementById('last-update');
                if (lastUpdateElement) {
                    lastUpdateElement.textContent = new Date().toLocaleString('ja-JP');
                }
            };
            
            updateLastUpdateTime();
            setInterval(updateLastUpdateTime, 60000); // 1ë¶„ë§ˆë‹¤ ì—…ë°ì´íŠ¸
        });
    </script>
</body>
</html>